!function(e){e.fn.thegemPreloader=function(t){e(this).each((function(){var a=e(this),i=-1!=["img","iframe"].indexOf(a[0].nodeName.toLowerCase());if(a.data("thegemPreloader",e("img, iframe",a).add(a.filter("img, iframe")).length),0==a.data("thegemPreloader")||i&&!a.attr("src"))return a.prev(".preloader").remove(),t(),void a.trigger("thegem-preloader-loaded");a.prev(".preloader").length||e('<div class="preloader">').insertBefore(a),e("img, iframe",a).add(a.filter("img, iframe")).each((function(){function i(){a.data("thegemPreloader",a.data("thegemPreloader")-1),0==a.data("thegemPreloader")&&(a.prev(".preloader").remove(),t(),a.trigger("thegem-preloader-loaded"))}if(e(this).attr("src")){var s=e("<img>");"iframe"==e(this).prop("tagName").toLowerCase()&&(s=e(this)),s.attr("src",e(this).attr("src")),s.on("load error",i)}else i()}))}))}}(jQuery),function(e){var t=e.fn.width;e.fn.width=function(e){if(0==arguments.length&&1==this.length&&this[0]===window){if(-1!=window.gemOptions.innerWidth)return window.gemOptions.innerWidth;var a=t.apply(this,arguments);return window.updateGemInnerSize(a),a}return t.apply(this,arguments)};var a=e("#page");e(window).load((function(){var t=e("#page-preloader");t.length&&!t.hasClass("preloader-loaded")&&t.addClass("preloader-loaded")})),e("#site-header.animated-header").headerAnimation(),e.fn.updateTabs=function(){jQuery(".gem-tabs",this).each((function(t){var a=e(this);a.thegemPreloader((function(){a.easyResponsiveTabs({type:"default",width:"auto",fit:!1,activate:function(t,a){var i=e(t.target),s=i.attr("aria-controls");i.closest(".ui-tabs").find('.gem_tab[aria-labelledby="'+s+'"]').trigger("tab-update")}})}))})),jQuery(".gem-tour",this).each((function(t){var a=e(this);a.thegemPreloader((function(){a.easyResponsiveTabs({type:"vertical",width:"auto",fit:!1,activate:function(t,a){var i=e(t.target),s=i.attr("aria-controls");i.closest(".ui-tabs").find('.gem_tab[aria-labelledby="'+s+'"]').trigger("tab-update")}})}))}))};var i=[],s=[];function r(t,r){var o=[];if((t?i:s).forEach((function(e){o.push(e)})),o.length>0){var n=a.offset(),l=a.css("padding-left"),c=a.width();o.forEach((function(t){!function(e,t,a,i,s){var r=e.prev(),o=0;(0==r.length||r.hasClass("fullwidth-block"))&&(r=e.parent(),o=parseInt(r.css("padding-left")));var n={width:i};n[window.gemSettings.isRTL?"right":"left"]=t.left-(r.length?r.offset().left:0)+parseInt(a)-o,e.css(n),s||function(e){e.trigger("updateTestimonialsCarousel"),e.trigger("updateClientsCarousel"),e.trigger("fullwidthUpdate")}(e)}(e(t),n,l,c)}))}}e(".fullwidth-block").each((function(){var t=e(this).parents(".vc_row"),a={isInline:!1};t.each((function(){if(this.hasAttribute("data-vc-full-width"))return a.isInline=!0,!1})),a.isInline?i.push(this):s.push(this)})),window.disableGemSlideshowPreloaderHandle||jQuery(".gem-slideshow").each((function(){e(this).thegemPreloader((function(){}))})),e((function(){function t(e){for(var t=e.offsetWidth,a=e.offsetHeight,i=0,s=0;e&&"page"!=e.id;)i+=e.offsetLeft,s+=e.offsetTop,e=e.offsetParent;return{left:i,top:s,width:t,height:a}}e("#gem-icons-loading-hide").remove(),void 0===window.tgpLazyItems&&e("#thegem-preloader-inline-css").remove(),jQuery("iframe").not(".gem-video-background iframe, .wcppec-checkout-buttons iframe").each((function(){e(this).thegemPreloader((function(){}))})),jQuery(".gem-video-background").each((function(){var t=e(this),a=e(".gem-video-background-inner",this),i=t.data("aspect-ratio")?t.data("aspect-ratio"):"16:9",s=t.closest(".fullwidth-block");function r(){a.removeAttr("style"),a.width()/a.height()>i?a.css({height:a.width()/i+"px",marginTop:-(a.width()/i-t.height())/2+"px"}):a.css({width:a.height()*i+"px",marginLeft:-(a.height()*i-t.width())/2+"px"})}i=(i=/(\d+):(\d+)/.exec(i))&&0!=parseInt(i[1])&&0!=parseInt(i[2])?parseInt(i[1])/parseInt(i[2]):16/9,t.closest(".page-title-block").length>0&&r(),s.length?s.on("fullwidthUpdate",r):e(window).resize(r)})),r(!1),e(".fullwidth-block").each((function(){var t=e(this),a=t.data("mobile-parallax-enable")||"0",i=t.hasClass("custom-title-background");if(window.gemSettings.isTouch&&"1"!=a)e(".fullwidth-block-background",t).css({backgroundAttachment:"scroll"});else if(t.hasClass("fullwidth-block-parallax-vertical")){var s={};i&&(s.position="top"),e(".fullwidth-block-background",t).each((function(){var t=e(this).css("background-image")||"";"none"!=t&&""!=t?e(this).parallaxVertical("50%",s):e(this).on("tgpliVisible",(function(){e(this).parallaxVertical("50%",s)}))}))}else t.hasClass("fullwidth-block-parallax-horizontal")&&e(".fullwidth-block-background",t).each((function(){if(!window.gemSettings.parallaxDisabled){var t=e(this).css("background-image")||"";if("none"==t||""==t)return void e(this).on("tgpliVisible",(function(){e(this).parallaxHorizontal()}));e(this).parallaxHorizontal()}}))})),window.gemSettings.isTouch?e(".page-title-parallax-background").css({backgroundAttachment:"scroll"}):e(".page-title-parallax-background").each((function(){var t=e(this).css("background-image")||"";"none"!=t&&""!=t?e(this).parallaxVertical("50%",{position:"top"}):e(this).on("tgpliVisible",(function(){e(this).parallaxVertical("50%",{position:"top"})}))})),e(window).resize((function(){r(!1)})),e(window).load((function(){r(!1)})),jQuery("select.gem-combobox, .gem-combobox select, .widget_archive select").each((function(t){e(this).combobox()})),jQuery(".widget_categories select").each((function(){this.onchange=null,e(this).on("change",(function(){-1!=e(this).val()&&e(this).closest("form").submit()}))})),jQuery("input.gem-checkbox, .gem-checkbox input").checkbox(),"function"==typeof e.fn.ReStable&&jQuery(".gem-table-responsive").each((function(t){e("> table",this).ReStable({maxWidth:768,rowHeaders:e(this).hasClass("row-headers")})})),jQuery(".fancybox").each((function(){e(this).fancybox()})),"function"==typeof jQuery.fn.scSticky&&jQuery(".panel-sidebar-sticky > .sidebar").scSticky(),jQuery("iframe + .map-locker").each((function(){var t=e(this);t.click((function(e){e.preventDefault(),t.hasClass("disabled")?t.prev("iframe").css({"pointer-events":"none"}):t.prev("iframe").css({"pointer-events":"auto"}),t.toggleClass("disabled")}))})),e(".primary-navigation a.mega-no-link").closest("li").removeClass("menu-item-active current-menu-item");var i=[];if(e(".quickfinder-item a, .primary-navigation a, .gem-button, .footer-navigation a, .scroll-top-button, .scroll-to-anchor, .scroll-to-anchor a, .top-area-menu a").each((function(a){var s=e(this),r=s.attr("href");r&&(r=r.split("#"),e("#"+r[1]).hasClass("vc_tta-panel")||e("#"+r[1]).length&&(s.closest("li").removeClass("menu-item-active current-menu-item"),s.closest("li").parents("li").removeClass("menu-item-current"),e(document).on("update-page-scroller",(function(t,a){var i=e(a);s.closest("li.menu-item").length&&(i.is(e("#"+r[1]))||i.find(e("#"+r[1])).length?(s.closest("li").addClass("menu-item-active"),s.closest("li").parents("li").addClass("menu-item-current")):(s.closest("li").removeClass("menu-item-active"),s.closest("li").parents("li.menu-item-current").each((function(){e(".menu-item-active",this).length||e(this).removeClass("menu-item-current")}))))})),s.click((function(a){a.preventDefault(),history.replaceState("data to be passed",s.text(),s.attr("href"));var i=0,o=e("#thegem-perspective.modalview").length;if(e("#site-header.animated-header").length){var n=e("#site-header").hasClass("shrink");if(e("#site-header").addClass("scroll-counting"),e("#site-header").addClass("fixed shrink"),i=e("#site-header").outerHeight(),!o){var l=e("#site-header").position().top;e("#site-header").hasClass("shrink")&&(l=0),i+=l}n||e("#site-header").removeClass("fixed shrink"),setTimeout((function(){e("#site-header").removeClass("scroll-counting")}),50)}var c=t(e("#"+r[1])[0]).top-i+1;if(0==t(e("#"+r[1])[0]).top&&(c=0),e("body").hasClass("page-scroller")&&e(".page-scroller-nav-pane").is(":visible")){var h=e("#"+r[1]+".scroller-block").add(e("#"+r[1]).closest(".scroller-block")).eq(0);h.length&&e(".page-scroller-nav-pane .page-scroller-nav-item").eq(e(".scroller-block").index(h)).trigger("click"),s.closest(".overlay-menu-wrapper").length&&s.closest(".overlay-menu-wrapper").hasClass("active")&&(s.closest("#primary-navigation").length&&s.closest("#primary-navigation").hasClass("responsive")?e(".menu-toggle").trigger("click"):e(".overlay-toggle").trigger("click"))}else o?e("#page").stop(!0,!0).animate({scrollTop:c},1500,"easeInOutCubic",(function(){s.closest("#thegem-perspective").length&&s.closest("#thegem-perspective").hasClass("modalview")&&e(".perspective-menu-close").trigger("click")})):e("html, body").stop(!0,!0).animate({scrollTop:c},1500,"easeInOutCubic"),s.closest("#primary-menu").length&&s.closest("#primary-menu").hasClass("dl-menuopen")&&e(".menu-toggle").trigger("click"),s.closest(".mobile-menu-slide-wrapper").length&&s.closest(".mobile-menu-slide-wrapper").hasClass("opened")&&e(".mobile-menu-slide-close").trigger("click"),s.closest(".overlay-menu-wrapper").length&&s.closest(".overlay-menu-wrapper").hasClass("active")&&(s.closest("#primary-navigation").length&&s.closest("#primary-navigation").hasClass("responsive")?e(".menu-toggle").trigger("click"):e(".overlay-toggle").trigger("click")),s.closest("#primary-navigation").length&&s.closest("#primary-navigation").hasClass("hamburger-active")&&e(".hamburger-toggle").trigger("click")})),i.push(s[0])))})),i.length){function s(){var s=e("#thegem-perspective.modalview").length,r=0;if(!a.hasClass("vertical-header")&&(r=e("#site-header").outerHeight(),!s)){var o=e("#site-header").length?e("#site-header").position().top:0;e("#site-header").hasClass("shrink")&&(o=0),r+=o}for(var n=0;n<i.length;n++){var c=e(i[n]),h=c.attr("href");if(h){h=h.split("#");var d=l()+a.scrollTop();if(c.closest("li.menu-item").length){var u=t(e("#"+h[1])[0]).top-r;d>=u&&d<=u+e("#"+h[1]).outerHeight()?(c.closest("li").addClass("menu-item-active"),c.closest("li").parents("li").addClass("menu-item-current")):(c.closest("li").removeClass("menu-item-active"),c.closest("li").parents("li.menu-item-current").each((function(){e(".menu-item-active",this).length||e(this).removeClass("menu-item-current")})))}}}}e(window).scroll(s),e("#thegem-perspective").length&&a.scroll(s),e(window).load((function(){for(var e=0;e<i.length;e++){var t=i[e];if(null!=t.href&&t.href&&window.location.href==t.href){t.click();break}}}))}e("body").on("click",".post-footer-sharing .gem-button",(function(t){t.preventDefault(),e(this).closest(".post-footer-sharing").find(".sharing-popup").toggleClass("active")}));var o,n=document.body;function l(e){return window.pageYOffset||document.documentElement.scrollTop}e(window).scroll((function(){clearTimeout(o),n.classList.contains("disable-hover"),o=setTimeout((function(){}),300),l()>0?e(".scroll-top-button").addClass("visible"):e(".scroll-top-button").removeClass("visible")})).scroll(),e("a.hidden-email").each((function(){e(this).attr("href","mailto:"+e(this).data("name")+"@"+e(this).data("domain"))}));var c=function(){if(void 0!==window.tgpLazyItems&&!window.tgpLazyItems.checkGroupShowed(this,(function(e){c.call(e)})))return;var t=this;e(t).thegemPreloader((function(){e(t).isotope({itemSelector:".widget",layoutMode:"masonry"})}))};e("#colophon .footer-widget-area").each(c),e("body").updateTabs()})),e(document).on("show.vc.accordion","[data-vc-accordion]",(function(){var t=e(this).data("vc.accordion").getContainer(),a=0;if(t.find(".vc_tta-tabs").length&&e(this).is(":visible")&&!t.data("vc-tta-autoplay")){if(e("#site-header.animated-header").length&&e("#site-header").hasClass("fixed")){var i=e("#site-header").hasClass("shrink");e("#site-header").addClass("scroll-counting"),e("#site-header").addClass("fixed shrink"),a=e("#site-header").outerHeight()+e("#site-header").position().top,i||e("#site-header").removeClass("fixed shrink"),e("#site-header").removeClass("scroll-counting")}var s=t.offset().top-a-100+1;e("html, body").stop(!0,!0).animate({scrollTop:s},500,"easeInOutCubic")}}));e(document).on("vc-full-width-row",(function(t){if(window.gemOptions.clientWidth-a.width()>25||window.gemSettings.isRTL)for(var i=1;i<arguments.length;i++){var s=e(arguments[i]);s.addClass("vc_hidden");var o=s.next(".vc_row-full-width");o.length||(o=s.parent().next(".vc_row-full-width"));var n=parseInt(s.css("margin-left"),10),l=parseInt(s.css("margin-right"),10),c=0-o.offset().left-n+e("#page").offset().left+parseInt(e("#page").css("padding-left")),h=e("#page").width(),d=window.gemSettings.isRTL?"right":"left",u={position:"relative",left:c,"box-sizing":"border-box",width:e("#page").width()};if(u[d]=c,s.css(u),!s.data("vcStretchContent")){var g=-1*c;0>g&&(g=0);var m=h-g-o.width()+n+l;0>m&&(m=0),s.css({"padding-left":g+"px","padding-right":m+"px"})}s.attr("data-vc-full-width-init","true"),s.removeClass("vc_hidden"),s.trigger("VCRowFullwidthUpdate")}r(!0),!1})),e("body").on("click",'.gem-button[href^="#give-form-"]',(function(t){var a=e(this).attr("href").replace("#give-form-","");return a=parseInt(a),isNaN(a)||e("#give-form-"+a+" .give-btn-modal").click(),t.preventDefault(),!1}))}(jQuery),function(e){e(".menu-item-search a").on("click",(function(t){if(t.preventDefault(),e(this).closest(".overlay-menu-wrapper.active").length){var a=e("#primary-menu");a.addClass("overlay-search-form-show"),a.hasClass("no-responsive")&&a.addClass("animated-minisearch"),setTimeout((function(){e(document).on("click.menu-item-search-close","body",(function(t){if(!e(t.target).is(".menu-item-search .minisearch *")){var a=e("#primary-menu");a.hasClass("animated-minisearch")?(a.removeClass("animated-minisearch"),setTimeout((function(){a.removeClass("overlay-search-form-show"),e(document).off("click.menu-item-search-close")}),700)):(a.removeClass("overlay-search-form-show"),e(document).off("click.menu-item-search-close"))}}))}),500)}else e(".menu-item-search").toggleClass("active")}))}(jQuery),function(e){e(".menu-item-search a").click((function(){e("#primary-navigation").hasClass("overlay-active")||e("#searchform-input").focus()}))}(jQuery);