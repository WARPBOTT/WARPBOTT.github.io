/*!
 * The Grid – Responsive Grid Plugin
 * Copyright © 2015 All Rights Reserved. 
 * @author Themeone [http://theme-one.com/the-grid/]
 */
function throttle(t,e){var i=0;return function(){var n=Date.now();if(i+e<n)return i=n,t.apply(this,arguments)}}function debounce(t,e){"use strict";var i;return function(){i&&clearTimeout(i),setTimeout((function(){t(),i=null}),e||100)}}!function(t){function e(t){function e(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function n(e,n){t.fn[e]=function(o){if("string"==typeof o){for(var r=i.call(arguments,1),a=0,s=this.length;a<s;a++){var l=this[a],u=t.data(l,e);if(u&&t.isFunction(u[o])&&"_"!==o.charAt(0)){var d=u[o].apply(u,r);if(void 0!==d)return d}}return this}return this.each((function(){var i=t.data(this,e);i?(i.option(o),i._init()):(i=new n(this,o),t.data(this,e,i))}))}}if(t)return t.bridget=function(t,i){e(i),n(t,i)},t.bridget}var i=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],e):e("object"==typeof exports?require("jquery"):t.jQuery)}(window),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(n=function(t,i,n){t[i+n]=n.handleEvent?function(){var i=e(t);n.handleEvent.call(n,i)}:function(){var i=e(t);n.call(t,i)},t.attachEvent("on"+i,t[i+n])});var o=function(){};i.removeEventListener?o=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(o=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(n){t[e+i]=void 0}});var r={bind:n,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",r):"object"==typeof exports?module.exports=r:t.eventie=r}(window),function(){"use strict";function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var n=t.prototype,o=this,r=o.EventEmitter;n.getListeners=function(t){var e,i,n=this._getEvents();if(t instanceof RegExp)for(i in e={},n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i]);else e=n[t]||(n[t]=[]);return e},n.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},n.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&((e={})[t]=i),e||i},n.addListener=function(t,i){var n,o=this.getListenersAsObject(t),r="object"==typeof i;for(n in o)o.hasOwnProperty(n)&&-1===e(o[n],i)&&o[n].push(r?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,i){var n,o,r=this.getListenersAsObject(t);for(o in r)r.hasOwnProperty(o)&&-1!==(n=e(r[o],i))&&r[o].splice(n,1);return this},n.off=i("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,i){var n,o,r=t?this.removeListener:this.addListener,a=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)r.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(o=e[n])&&("function"==typeof o?r.call(this,n,o):a.call(this,n,o));return this},n.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if("string"===i)delete n[t];else if(t instanceof RegExp)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(t,e){var i,n,o,r=this.getListenersAsObject(t);for(o in r)if(r.hasOwnProperty(o))for(n=r[o].length;n--;)!0===(i=r[o][n]).once&&this.removeListener(t,i.listener),i.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return o.EventEmitter=r,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],(function(){return t})):"object"==typeof module&&module.exports?module.exports=t:o.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof n[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,o=0,r=i.length;o<r;o++)if(e=i[o]+t,"string"==typeof n[e])return e}}var i="Webkit Moz ms Ms O".split(" "),n=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],(function(){return e})):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t,e){function i(t){var e=parseFloat(t);return-1===t.indexOf("%")&&!isNaN(e)&&e}function n(e){function n(){if(!d){d=!0;var n=t.getComputedStyle;if(s=function(){var t=n?function(t){return n(t,null)}:function(t){return t.currentStyle};return function(e){var i=t(e);return i||o("Style returned "+i+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),i}}(),l=e("boxSizing")){var r=document.createElement("div");r.style.width="200px",r.style.padding="1px 2px 3px 4px",r.style.borderStyle="solid",r.style.borderWidth="1px 2px 3px 4px",r.style[l]="border-box";var a=document.body||document.documentElement;a.appendChild(r);var c=s(r);u=200===i(c.width),a.removeChild(r)}}}function a(e,i){if(t.getComputedStyle||-1===i.indexOf("%"))return i;var n=e.style,o=n.left,r=e.runtimeStyle,a=r&&r.left;return a&&(r.left=e.currentStyle.left),n.left=i,i=n.pixelLeft,n.left=o,a&&(r.left=a),i}var s,l,u,d=!1;return function(t){if(n(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var e=s(t);if("none"===e.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,i=r.length;e<i;e++)t[r[e]]=0;return t}();var o={};o.width=t.offsetWidth,o.height=t.offsetHeight;for(var d=o.isBorderBox=!(!l||!e[l]||"border-box"!==e[l]),c=0,h=r.length;c<h;c++){var p=r[c],f=e[p];f=a(t,f);var m=parseFloat(f);o[p]=isNaN(m)?0:m}var g=o.paddingLeft+o.paddingRight,y=o.paddingTop+o.paddingBottom,v=o.marginLeft+o.marginRight,_=o.marginTop+o.marginBottom,w=o.borderLeftWidth+o.borderRightWidth,b=o.borderTopWidth+o.borderBottomWidth,T=d&&u,x=i(e.width);!1!==x&&(o.width=x+(T?0:g+w));var z=i(e.height);return!1!==z&&(o.height=z+(T?0:y+b)),o.innerWidth=o.width-(g+w),o.innerHeight=o.height-(y+b),o.outerWidth=o.width+v,o.outerHeight=o.height+_,o}}}var o="undefined"==typeof console?function(){}:function(t){console.error(t)},r=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],n):"object"==typeof exports?module.exports=n(require("desandro-get-style-property")):t.getSize=n(t.getStyleProperty)}(window),function(t){function e(t){"function"==typeof t&&(e.isReady?t():a.push(t))}function i(t){var i="readystatechange"===t.type&&"complete"!==r.readyState;e.isReady||i||n()}function n(){e.isReady=!0;for(var t=0,i=a.length;t<i;t++)(0,a[t])()}function o(o){return"complete"===r.readyState?n():(o.bind(r,"DOMContentLoaded",i),o.bind(r,"readystatechange",i),o.bind(t,"load",i)),e}var r=t.document,a=[];e.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],o):"object"==typeof exports?module.exports=o(require("eventie")):t.docReady=o(t.eventie)}(window),function(t){"use strict";function e(t,e){return t[o](e)}function i(t){t.parentNode||document.createDocumentFragment().appendChild(t)}var n,o=function(){if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0,n=e.length;i<n;i++){var o=e[i]+"MatchesSelector";if(t[o])return o}}();if(o){var r=e(document.createElement("div"),"div");n=r?e:function(t,n){return i(t),e(t,n)}}else n=function(t,e){i(t);for(var n=t.parentNode.querySelectorAll(e),o=0,r=n.length;o<r;o++)if(n[o]===t)return!0;return!1};"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],(function(){return n})):"object"==typeof exports?module.exports=n:window.matchesSelector=n}(Element.prototype),function(t,e){"use strict";"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],(function(i,n){return e(t,i,n)})):"object"==typeof exports?module.exports=e(t,require("doc-ready"),require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.docReady,t.matchesSelector)}(window,(function(t,e,i){var n={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},o=Object.prototype.toString;n.isArray=function(t){return"[object Array]"==o.call(t)},n.makeArray=function(t){var e=[];if(n.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0,o=t.length;i<o;i++)e.push(t[i]);else e.push(t);return e},n.indexOf=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},n.removeFrom=function(t,e){var i=n.indexOf(t,e);-1!=i&&t.splice(i,1)},n.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1==t.nodeType&&"string"==typeof t.nodeName},n.setText=function(){var t;return function(e,i){e[t=t||(void 0!==document.documentElement.textContent?"textContent":"innerText")]=i}}(),n.getParent=function(t,e){for(;t!=document.body;)if(t=t.parentNode,i(t,e))return t},n.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},n.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.filterFindElements=function(t,e){for(var o=[],r=0,a=(t=n.makeArray(t)).length;r<a;r++){var s=t[r];if(n.isElement(s))if(e){i(s,e)&&o.push(s);for(var l=s.querySelectorAll(e),u=0,d=l.length;u<d;u++)o.push(l[u])}else o.push(s)}return o},n.debounceMethod=function(t,e,i){var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout((function(){n.apply(r,e),delete r[o]}),i||100)}},n.toDashed=function(t){return t.replace(/(.)([A-Z])/g,(function(t,e,i){return e+"-"+i})).toLowerCase()};var r=t.console;return n.htmlInit=function(i,o){e((function(){for(var e=n.toDashed(o),a=document.querySelectorAll(".js-"+e),s="data-"+e+"-options",l=0,u=a.length;l<u;l++){var d,c=a[l],h=c.getAttribute(s);try{d=h&&JSON.parse(h)}catch(t){r&&r.error("Error parsing "+s+" on "+c.nodeName.toLowerCase()+(c.id?"#"+c.id:"")+": "+t);continue}var p=new i(c,d),f=t.jQuery;f&&f.data(c,o,p)}}))},n})),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],(function(i,n,o,r){return e(t,i,n,o,r)})):"object"==typeof exports?module.exports=e(t,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(t.Outlayer={},t.Outlayer.Item=e(t,t.EventEmitter,t.getSize,t.getStyleProperty,t.fizzyUIUtils))}(window,(function(t,e,i,n,o){"use strict";function r(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var a=t.getComputedStyle,s=a?function(t){return a(t,null)}:function(t){return t.currentStyle},l=n("transition"),u=n("transform"),d=l&&u,c=!!n("perspective"),h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[l],p=["transform","transition","transitionDuration","transitionProperty"],f=function(){for(var t={},e=0,i=p.length;e<i;e++){var o=p[e],r=n(o);r&&r!==o&&(t[o]=r)}return t}();o.extend(r.prototype,e.prototype),r.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},r.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.prototype.getSize=function(){this.size=i(this.element)},r.prototype.css=function(t){var e=this.element.style;for(var i in t)e[f[i]||i]=t[i]},r.prototype.getPosition=function(){var t=s(this.element),e=this.layout.options,i=e.isOriginLeft,n=e.isOriginTop,o=t[i?"left":"right"],r=t[n?"top":"bottom"],a=this.layout.size,l=-1!=o.indexOf("%")?parseFloat(o)/100*a.width:parseInt(o,10),u=-1!=r.indexOf("%")?parseFloat(r)/100*a.height:parseInt(r,10);l=isNaN(l)?0:l,u=isNaN(u)?0:u,l-=i?a.paddingLeft:a.paddingRight,u-=n?a.paddingTop:a.paddingBottom,this.position.x=l,this.position.y=u},r.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,i={},n=e.isOriginLeft?"paddingLeft":"paddingRight",o=e.isOriginLeft?"left":"right",r=e.isOriginLeft?"right":"left",a=this.position.x+t[n];i[o]=this.getXValue(a),i[r]="";var s=e.isOriginTop?"paddingTop":"paddingBottom",l=e.isOriginTop?"top":"bottom",u=e.isOriginTop?"bottom":"top",d=this.position.y+t[s];i[l]=this.getYValue(d),i[u]="",this.css(i),this.emitEvent("layout",[this])},r.prototype.getXValue=function(t){var e=this.layout.options;return e.percentPosition&&!e.isHorizontal?t/this.layout.size.width*100+"%":t+"px"},r.prototype.getYValue=function(t){var e=this.layout.options;return e.percentPosition&&e.isHorizontal?t/this.layout.size.height*100+"%":t+"px"},r.prototype._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=parseInt(t,10),r=parseInt(e,10),a=o===this.position.x&&r===this.position.y;if(this.setPosition(t,e),!a||this.isTransitioning){var s=t-i,l=e-n,u={};u.transform=this.getTranslate(s,l),this.transition({to:u,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},r.prototype.getTranslate=function(t,e){var i=this.layout.options;return t=i.isOriginLeft?t:-t,e=i.isOriginTop?e:-e,c?"translate3d("+t+"px, "+e+"px, 0)":"translate("+t+"px, "+e+"px)"},r.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},r.prototype.moveTo=d?r.prototype._transitionTo:r.prototype.goTo,r.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},r.prototype._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},r.prototype._transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);t.from&&(this.css(t.from),this.element.offsetHeight),this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var m="opacity,"+(f.transform||"transform").replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}));r.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:m,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(h,this,!1))},r.prototype.transition=r.prototype[l?"_transition":"_nonTransition"],r.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},r.prototype.onotransitionend=function(t){this.ontransitionend(t)};var g={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};r.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=g[t.propertyName]||t.propertyName;delete e.ingProperties[i],function(t){for(var e in t)return!1;return!0}(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd&&(e.onEnd[i].call(this),delete e.onEnd[i]),this.emitEvent("transitionEnd",[this])}},r.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(h,this,!1),this.isTransitioning=!1},r.prototype._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var y={transitionProperty:"",transitionDuration:""};return r.prototype.removeTransitionStyles=function(){this.css(y)},r.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},r.prototype.remove=function(){if(l&&parseFloat(this.layout.options.transitionDuration)){var t=this;this.once("transitionEnd",(function(){t.removeElem()})),this.hide()}else this.removeElem()},r.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},r.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},r.prototype.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},r.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},r.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},r.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},r})),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],(function(i,n,o,r,a){return e(t,i,n,o,r,a)})):"object"==typeof exports?module.exports=e(t,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.eventie,t.EventEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,(function(t,e,i,n,o,r){"use strict";function a(t,e){var i=o.getQueryElement(t);if(i){this.element=i,l&&(this.$element=l(this.element)),this.options=o.extend({},this.constructor.defaults),this.option(e);var n=++u;this.element.outlayerGUID=n,d[n]=this,this._create(),this.options.isInitLayout&&this.layout()}else s&&s.error("Bad element for "+this.constructor.namespace+": "+(i||t))}var s=t.console,l=t.jQuery,u=0,d={};return a.namespace="outlayer",a.Item=r,a.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},o.extend(a.prototype,i.prototype),a.prototype.option=function(t){o.extend(this.options,t)},a.prototype._create=function(){this.reloadItems(),o.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},a.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},a.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0,r=e.length;o<r;o++){var a=new i(e[o],this);n.push(a)}return n},a.prototype._filterFindItemElements=function(t){return o.filterFindElements(t,this.options.itemSelector)},a.prototype.getItemElements=function(){for(var t=[],e=0,i=this.items.length;e<i;e++)t.push(this.items[e].element);return t},a.prototype.layout=function(){this._resetLayout();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},a.prototype._init=a.prototype.layout,a.prototype._resetLayout=function(){this.getSize()},a.prototype.getSize=function(){this.size=n(this.element)},a.prototype._getMeasurement=function(t,e){var i,r=this.options[t];r?("string"==typeof r?i=this.element.querySelector(r):o.isElement(r)&&(i=r),this[t]=i?n(i)[e]:r):this[t]=0},a.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},a.prototype._getItemsForLayout=function(t){for(var e=[],i=0,n=t.length;i<n;i++){var o=t[i];o.isIgnored||e.push(o)}return e},a.prototype._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){for(var i=[],n=0,o=t.length;n<o;n++){var r=t[n],a=this._getItemLayoutPosition(r);a.item=r,a.isInstant=e||r.isLayoutInstant,i.push(a)}this._processLayoutQueue(i)}},a.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},a.prototype._processLayoutQueue=function(t){for(var e=0,i=t.length;e<i;e++){var n=t[e];this._positionItem(n.item,n.x,n.y,n.isInstant)}},a.prototype._positionItem=function(t,e,i,n){n?t.goTo(e,i):t.moveTo(e,i)},a.prototype._postLayout=function(){this.resizeContainer()},a.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},a.prototype._getContainerSize=function(){},a.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},a.prototype._emitCompleteOnItems=function(t,e){function i(){n.dispatchEvent(t+"Complete",null,[e])}var n=this,o=e.length;if(e&&o)for(var r=0,a=0,s=e.length;a<s;a++)e[a].once(t,(function(){++r===o&&i()}));else i()},a.prototype.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),l)if(this.$element=this.$element||l(this.element),e){var o=l.Event(e);o.type=t,this.$element.trigger(o,i)}else this.$element.trigger(t,i)},a.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},a.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},a.prototype._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),o.makeArray(t)},a.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},a.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,o=n(t);return{left:e.left-i.left-o.marginLeft,top:e.top-i.top-o.marginTop,right:i.right-e.right-o.marginRight,bottom:i.bottom-e.bottom-o.marginBottom}},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.bindResize=function(){this.isResizeBound||(e.bind(t,"resize",this),this.isResizeBound=!0)},a.prototype.unbindResize=function(){this.isResizeBound&&e.unbind(t,"resize",this),this.isResizeBound=!1},a.prototype.onresize=function(){this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout((function(){t.resize(),delete t.resizeTimeout}),100)},a.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},a.prototype.needsResizeLayout=function(){var t=n(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},a.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},a.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},a.prototype.reveal=function(t){this._emitCompleteOnItems("reveal",t);for(var e=t&&t.length,i=0;e&&i<e;i++)t[i].reveal()},a.prototype.hide=function(t){this._emitCompleteOnItems("hide",t);for(var e=t&&t.length,i=0;e&&i<e;i++)t[i].hide()},a.prototype.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},a.prototype.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},a.prototype.getItem=function(t){for(var e=0,i=this.items.length;e<i;e++){var n=this.items[e];if(n.element===t)return n}},a.prototype.getItems=function(t){for(var e=[],i=0,n=(t=o.makeArray(t)).length;i<n;i++){var r=t[i],a=this.getItem(r);a&&e.push(a)}return e},a.prototype.remove=function(t){var e=this.getItems(t);if(this._emitCompleteOnItems("remove",e),e&&e.length)for(var i=0,n=e.length;i<n;i++){var r=e[i];r.remove(),o.removeFrom(this.items,r)}},a.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,i=this.items.length;e<i;e++)this.items[e].destroy();this.unbindResize();var n=this.element.outlayerGUID;delete d[n],delete this.element.outlayerGUID,l&&l.removeData(this.element,this.constructor.namespace)},a.data=function(t){var e=(t=o.getQueryElement(t))&&t.outlayerGUID;return e&&d[e]},a.create=function(t,e){function i(){a.apply(this,arguments)}return Object.create?i.prototype=Object.create(a.prototype):o.extend(i.prototype,a.prototype),i.prototype.constructor=i,i.defaults=o.extend({},a.defaults),o.extend(i.defaults,e),i.prototype.settings={},i.namespace=t,i.data=a.data,i.Item=function(){r.apply(this,arguments)},i.Item.prototype=new r,o.htmlInit(i,t),l&&l.bridget&&l.bridget(t,i),i},a.Item=r,a})),function(t,e){"use strict";"function"==typeof define&&define.amd?define("TG_Layout/js/item",["outlayer/outlayer"],e):"object"==typeof exports?module.exports=e(require("outlayer")):(t.TG_Layout=t.TG_Layout||{},t.TG_Layout.Item=e(t.Outlayer))}(window,(function(t){"use strict";function e(){t.Item.apply(this,arguments)}(e.prototype=new t.Item)._create=function(){this.id=this.layout.itemGUID++,t.Item.prototype._create.call(this),this.sortData={}},e.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var i in t){var n=e[i];this.sortData[i]=n(this.element,this)}}};var i=e.prototype.destroy;return e.prototype.destroy=function(){i.apply(this,arguments),this.css({display:""})},e})),function(t,e){"use strict";"function"==typeof define&&define.amd?define("TG_Layout/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e):"object"==typeof exports?module.exports=e(require("get-size"),require("outlayer")):(t.TG_Layout=t.TG_Layout||{},t.TG_Layout.LayoutMode=e(t.getSize,t.Outlayer))}(window,(function(t,e){"use strict";function i(t){this.TG_Layout=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}return function(){for(var t=["_resetLayout","_getItemLayoutPosition","_getContainerSize","_getElementOffset","needsResizeLayout"],n=0,o=t.length;n<o;n++){var r=t[n];i.prototype[r]=function(t){return function(){return e.prototype[t].apply(this.TG_Layout,arguments)}}(r)}}(),i.prototype.needsVerticalResizeLayout=function(){var e=t(this.TG_Layout.element);return this.TG_Layout.size&&e&&e.innerHeight!=this.TG_Layout.size.innerHeight},i.prototype._getMeasurement=function(){this.TG_Layout._getMeasurement.apply(this,arguments)},i.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},i.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},i.prototype.getSegmentSize=function(t,e){var i=t+e,n="outer"+e;if(this._getMeasurement(i,n),!this[i]){var o=this.getFirstItemSize();this[i]=o&&o[n]||this.TG_Layout.size["inner"+e]}},i.prototype.getFirstItemSize=function(){var e=this.TG_Layout.filteredItems[0];return e&&e.element&&t(e.element)},i.prototype.layout=function(){this.TG_Layout.layout.apply(this.TG_Layout,arguments)},i.prototype.getSize=function(){this.TG_Layout.getSize(),this.size=this.TG_Layout.size},i.modes={},i.create=function(t,e){function n(){i.apply(this,arguments)}return n.prototype=new i,e&&(n.options=e),n.prototype.namespace=t,i.modes[t]=n,n},i})),function(t,e){"use strict";"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],e):"object"==typeof exports?module.exports=e(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):t.Masonry=e(t.Outlayer,t.getSize,t.fizzyUIUtils)}(window,(function(t,e,i){var n=t.create("masonry");return n.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.x=0,this.y=0,this.maxY=0},n.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/n,a=n-o%n;r=Math[a&&a<1?"round":"floor"](r),this.cols=Math.max(r,1)},n.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,i=e(t);this.containerWidth=i&&i.innerWidth},n.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,n=Math[e&&e<1?"round":"ceil"](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);var o=this._getColGroup(n),r=Math.min.apply(Math,o),a=i.indexOf(o,r);if(this.options.isFitRows){var s=t.size.outerWidth+this.gutter,l=this.TG_Layout.size.innerWidth+this.gutter;0!==this.x&&s+this.x>l&&(this.x=0,this.y=this.maxY)}else this.x=this.columnWidth*a,this.y=r;var u={x:this.x,y:this.y};this.options.isFitRows&&(this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight+this.gutter),this.x+=s);for(var d=r+t.size.outerHeight+this.gutter,c=this.cols+1-o.length,h=0;h<c;h++)this.colYs[a+h]=d;return u},n.prototype._getColGroup=function(t){if(t<2)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;n<i;n++){var o=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,o)}return e},n.prototype._getContainerSize=function(){this.maxY=this.options.isFitRows?this.maxY:Math.max.apply(Math,this.colYs);var t={height:this.maxY-this.gutter};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},n.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},n.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},n})),function(t,e){"use strict";"function"==typeof define&&define.amd?define("TG_Layout/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],e):"object"==typeof exports?module.exports=e(require("../layout-mode"),require("masonry-layout")):e(t.TG_Layout.LayoutMode,t.Masonry)}(window,(function(t,e){"use strict";var i=t.create("masonry"),n=i.prototype._getElementOffset,o=i.prototype.layout,r=i.prototype._getMeasurement;!function(t,e){for(var i in e)t[i]=e[i]}(i.prototype,e.prototype),i.prototype._getElementOffset=n,i.prototype.layout=o,i.prototype._getMeasurement=r;var a=i.prototype.measureColumns;return i.prototype.measureColumns=function(){this.items=this.TG_Layout.filteredItems,a.call(this)},i})),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","fizzy-ui-utils/utils","TG_Layout/js/item","TG_Layout/js/layout-mode","TG_Layout/js/layout-modes/masonry"],(function(i,n,o,r,a,s){return e(t,i,n,o,r,a,s)})):"object"==typeof exports?module.exports=e(t,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry")):t.TG_Layout=e(t,t.Outlayer,t.getSize,t.matchesSelector,t.fizzyUIUtils,t.TG_Layout.Item,t.TG_Layout.LayoutMode)}(window,(function(t,e,i,n,o,r,a){var s=t.jQuery,l=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},u=document.documentElement.textContent?function(t){return t.textContent}:function(t){return t.innerText},d=e.create("TG_Layout",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});d.Item=r,d.LayoutMode=a,d.prototype._create=function(){for(var t in this.itemGUID=0,this._sorters={},this._getSorters(),e.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"],a.modes)this._initLayoutMode(t)},d.prototype.reloadItems=function(){this.itemGUID=0,e.prototype.reloadItems.call(this)},d.prototype._itemize=function(){for(var t=e.prototype._itemize.apply(this,arguments),i=0,n=t.length;i<n;i++)t[i].id=this.itemGUID++;return this._updateItemsSortData(t),t},d.prototype._initLayoutMode=function(t){var e=a.modes[t],i=this.options[t]||{};this.options[t]=e.options?o.extend(e.options,i):i,this.modes[t]=new e(this)},d.prototype.layout=function(){this._isLayoutInited||!this.options.isInitLayout?this._layout():this.arrange()},d.prototype._layout=function(){var t=this._getIsInstant();this._resetLayout(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},d.prototype.arrange=function(t){function e(){n.reveal(i.needReveal),n.hide(i.needHide)}this.option(t),this._getIsInstant();var i=this._filter(this.items);this.filteredItems=i.matches;var n=this;this._bindArrangeComplete(),this._isInstant?this._noTransition(e):e(),this._sort(),this._layout()},d.prototype._init=d.prototype.arrange,d.prototype._getIsInstant=function(){var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=t,t},d.prototype._bindArrangeComplete=function(){function t(){e&&i&&n&&o.dispatchEvent("arrangeComplete",null,[o.filteredItems])}var e,i,n,o=this;this.once("layoutComplete",(function(){e=!0,t()})),this.once("hideComplete",(function(){i=!0,t()})),this.once("revealComplete",(function(){n=!0,t()}))},d.prototype._filter=function(t){var e=this.options.filter;e=e||"*";for(var i=[],n=[],o=[],r=this._getFilterTest(e),a=0,s=t.length;a<s;a++){var l=t[a];if(!l.isIgnored){var u=r(l);u&&i.push(l),u&&l.isHidden?n.push(l):u||l.isHidden||o.push(l)}}return{matches:i,needReveal:n,needHide:o}},d.prototype._getFilterTest=function(t){return s&&this.options.isJQueryFiltering?function(e){return s(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return n(e.element,t)}},d.prototype.updateSortData=function(t){var e;t?(t=o.makeArray(t),e=this.getItems(t)):e=this.items,this._getSorters(),this._updateItemsSortData(e)},d.prototype._getSorters=function(){var t=this.options.getSortData;for(var e in t){var i=t[e];this._sorters[e]=c(i)}},d.prototype._updateItemsSortData=function(t){for(var e=t&&t.length,i=0;e&&i<e;i++)t[i].updateSortData()};var c=function(t){if("string"!=typeof t)return t;var e=l(t).split(" "),i=e[0],n=i.match(/^\[(.+)\]$/),o=function(t,e){return t?function(e){return e.getAttribute(t)}:function(t){var i=t.querySelector(e);return i&&u(i)}}(n&&n[1],i),r=d.sortDataParsers[e[1]];return r?function(t){return t&&r(o(t))}:function(t){return t&&o(t)}};return d.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},d.prototype._sort=function(){var t=this.options.sortBy;if(t){var e=function(t,e){return function(i,n){for(var o=0,r=t.length;o<r;o++){var a=t[o],s=i.sortData[a],l=n.sortData[a];if(s>l||s<l)return(s>l?1:-1)*((void 0!==e[a]?e[a]:e)?1:-1)}return 0}}([].concat.apply(t,this.sortHistory),this.options.sortAscending);this.filteredItems.sort(e),t!=this.sortHistory[0]&&this.sortHistory.unshift(t)}},d.prototype._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw new Error("No layout mode: "+t);return e.options=this.options[t],e},d.prototype._resetLayout=function(){e.prototype._resetLayout.call(this),this._mode()._resetLayout()},d.prototype._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},d.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},d.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},d.prototype.appended=function(t){var e=this.addItems(t);if(e.length)if("justified"==this.options.layoutMode){var i=this._filter(e);this.hide(i.needHide),this.reveal(i.matches),this.filteredItems=this.filteredItems.concat(i.matches),this.layoutItems(i.matches,!0)}else{var n=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(n)}},d.prototype._filterRevealAdded=function(t){var e=this._filter(t);return this.hide(e.needHide),this.reveal(e.matches),this.layoutItems(e.matches,!0),e.matches},d.prototype._noTransition=function(t){var e=this.options.transitionDuration;this.options.transitionDuration=0;var i=t.call(this);return this.options.transitionDuration=e,i},d.prototype.getFilteredItemElements=function(){for(var t=[],e=0,i=this.filteredItems.length;e<i;e++)t.push(this.filteredItems[e].element);return t},d})),function(t){function e(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}function i(t,e){(n(t,e)?r:o)(t,e)}var n,o,r;"classList"in document.documentElement?(n=function(t,e){return t.classList.contains(e)},o=function(t,e){t.classList.add(e)},r=function(t,e){t.classList.remove(e)}):(n=function(t,i){return e(i).test(t.className)},o=function(t,e){n(t,e)||(t.className=t.className+" "+e)},r=function(t,i){t.className=t.className.replace(e(i)," ")});var a={hasClass:n,addClass:o,removeClass:r,toggleClass:i,has:n,add:o,remove:r,toggle:i};"function"==typeof define&&define.amd?define("classie/classie",a):"object"==typeof exports?module.exports=a:t.classie=a}(window),function(t,e){"function"==typeof define&&define.amd?define("packery/js/rect",e):"object"==typeof exports?module.exports=e():(t.Packery=t.Packery||{},t.Packery.Rect=e())}(window,(function(){function t(e){for(var i in t.defaults)this[i]=t.defaults[i];for(i in e)this[i]=e[i]}return(window.Packery=function(){}).Rect=t,t.defaults={x:0,y:0,width:0,height:0},t.prototype.contains=function(t){var e=t.width||0,i=t.height||0;return this.x<=t.x&&this.y<=t.y&&this.x+this.width>=t.x+e&&this.y+this.height>=t.y+i},t.prototype.overlaps=function(t){var e=this.x+this.width,i=this.y+this.height,n=t.x+t.width,o=t.y+t.height;return this.x<n&&e>t.x&&this.y<o&&i>t.y},t.prototype.getMaximalFreeRects=function(e){if(!this.overlaps(e))return!1;var i,n=[],o=this.x+this.width,r=this.y+this.height,a=e.x+e.width,s=e.y+e.height;return this.y<e.y&&(i=new t({x:this.x,y:this.y,width:this.width,height:e.y-this.y}),n.push(i)),o>a&&(i=new t({x:a,y:this.y,width:o-a,height:this.height}),n.push(i)),r>s&&(i=new t({x:this.x,y:s,width:this.width,height:r-s}),n.push(i)),this.x<e.x&&(i=new t({x:this.x,y:this.y,width:e.x-this.x,height:this.height}),n.push(i)),n},t.prototype.canFit=function(t){return this.width>=t.width&&this.height>=t.height},t})),function(t,e){if("function"==typeof define&&define.amd)define("packery/js/packer",["./rect"],e);else if("object"==typeof exports)module.exports=e(require("./rect"));else{var i=t.Packery=t.Packery||{};i.Packer=e(i.Rect)}}(window,(function(t){function e(t,e,i){this.width=t||0,this.height=e||0,this.sortDirection=i||"downwardLeftToRight",this.reset()}e.prototype.reset=function(){this.spaces=[],this.newSpaces=[];var e=new t({x:0,y:0,width:this.width,height:this.height});this.spaces.push(e),this.sorter=i[this.sortDirection]||i.downwardLeftToRight},e.prototype.pack=function(t){for(var e=0,i=this.spaces.length;e<i;e++){var n=this.spaces[e];if(n.canFit(t)){this.placeInSpace(t,n);break}}},e.prototype.placeInSpace=function(t,e){t.x=e.x,t.y=e.y,this.placed(t)},e.prototype.placed=function(t){for(var e=[],i=0,n=this.spaces.length;i<n;i++){var o=this.spaces[i],r=o.getMaximalFreeRects(t);r?e.push.apply(e,r):e.push(o)}this.spaces=e,this.mergeSortSpaces()},e.prototype.mergeSortSpaces=function(){e.mergeRects(this.spaces),this.spaces.sort(this.sorter)},e.prototype.addSpace=function(t){this.spaces.push(t),this.mergeSortSpaces()},e.mergeRects=function(t){for(var e=0,i=t.length;e<i;e++){var n=t[e];if(n){var o=t.slice(0);o.splice(e,1);for(var r=0,a=0,s=o.length;a<s;a++){var l=o[a],u=e>a?0:1;n.contains(l)&&(t.splice(a+u-r,1),r++)}}}return t};var i={downwardLeftToRight:function(t,e){return t.y-e.y||t.x-e.x},rightwardTopToBottom:function(t,e){return t.x-e.x||t.y-e.y}};return e})),function(t,e){"function"==typeof define&&define.amd?define("packery/js/item",["get-style-property/get-style-property","outlayer/outlayer","./rect"],e):"object"==typeof exports?module.exports=e(require("desandro-get-style-property"),require("outlayer"),require("./rect")):t.Packery.Item=e(t.getStyleProperty,t.Outlayer,t.Packery.Rect)}(window,(function(t,e,i){t("transform");var n=function(){e.Item.apply(this,arguments)},o=(n.prototype=new e.Item)._create;return n.prototype._create=function(){o.call(this),this.rect=new i,this.placeRect=new i},n.prototype.positionPlaceRect=function(t,e,i){this.placeRect.x=this.getPlaceRectCoord(t,!0),this.placeRect.y=this.getPlaceRectCoord(e,!1,i)},n.prototype.getPlaceRectCoord=function(t,e,i){var n,o=e?"Width":"Height",r=this.size["outer"+o],a=this.layout[e?"columnWidth":"rowHeight"],s=this.layout.size["inner"+o];if(e||(s=Math.max(s,this.layout.maxY),this.layout.rowHeight||(s-=this.layout.gutter)),a){var l;a+=this.layout.gutter,s+=e?this.layout.gutter:0,t=Math.round(t/a),l=this.layout.options.isHorizontal?e?"ceil":"floor":e?"floor":"ceil";var u=Math[l](s/a);n=u-=Math.ceil(r/a)}else n=s-r;return t=i?t:Math.min(t,n),t*=a||1,Math.max(0,t)},n.prototype.copyPlaceRectPosition=function(){this.rect.x=this.placeRect.x,this.rect.y=this.placeRect.y},n.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.layout.packer.addSpace(this.rect),this.emitEvent("remove",[this])},n})),function(t,e){"function"==typeof define&&define.amd?define("packery/js/packery",["classie/classie","get-size/get-size","outlayer/outlayer","./rect","./packer","./item"],e):"object"==typeof exports?module.exports=e(require("desandro-classie"),require("get-size"),require("outlayer"),require("./rect"),require("./packer"),require("./item")):t.Packery=e(t.classie,t.getSize,t.Outlayer,t.Packery.Rect,t.Packery.Packer,t.Packery.Item)}(window,(function(t,e,i,n,o,r){function a(t,e){return t.position.y-e.position.y||t.position.x-e.position.x}function s(t,e){return t.position.x-e.position.x||t.position.y-e.position.y}n.prototype.canFit=function(t){return this.width>=t.width-1&&this.height>=t.height-1};var l=i.create("packery");return l.Item=r,l.prototype._create=function(){i.prototype._create.call(this),this.packer=new o},l.prototype._resetLayout=function(){this.getSize(),this._getMeasurements();var t=this.packer;this.options.isHorizontal?(t.width=Number.POSITIVE_INFINITY,t.height=this.size.innerHeight+this.gutter,t.sortDirection="rightwardTopToBottom"):(t.width=this.size.innerWidth+this.gutter,t.height=Number.POSITIVE_INFINITY,t.sortDirection="downwardLeftToRight"),t.reset(),this.maxY=0,this.maxX=0},l.prototype._getMeasurements=function(){this._getMeasurement("columnWidth","width"),this._getMeasurement("rowHeight","height"),this._getMeasurement("gutter","width")},l.prototype._getItemLayoutPosition=function(t){return this._packItem(t),t.rect},l.prototype._packItem=function(t){this._setRectSize(t.element,t.rect),this.packer.pack(t.rect),this._setMaxXY(t.rect)},l.prototype._setMaxXY=function(t){this.maxX=Math.max(t.x+t.width,this.maxX),this.maxY=Math.max(t.y+t.height,this.maxY)},l.prototype._setRectSize=function(t,i){var n=e(t),o=n.outerWidth,r=n.outerHeight;(o||r)&&(o=this._applyGridGutter(o,this.columnWidth),r=this._applyGridGutter(r,this.rowHeight)),i.width=Math.min(o,this.packer.width),i.height=Math.min(r,this.packer.height)},l.prototype._applyGridGutter=function(t,e){if(!e)return t+this.gutter;var i=t%(e+=this.gutter);return Math[i&&i<1?"round":"ceil"](t/e)*e},l.prototype._getContainerSize=function(){return this.options.isHorizontal?{width:this.maxX-this.gutter}:{height:this.maxY-this.gutter}},l.prototype.sortItemsByPosition=function(){var t=this.options.isHorizontal?s:a;this.items.sort(t)},l.prototype.fit=function(t,e,i){var n=this.getItem(t);n&&(this._getMeasurements(),n.getSize(),n.isPlacing=!0,e=void 0===e?n.rect.x:e,i=void 0===i?n.rect.y:i,n.positionPlaceRect(e,i,!0),this._bindFitEvents(n),n.moveTo(n.placeRect.x,n.placeRect.y),this.layout(),this.unstamp(n.element),this.sortItemsByPosition(),n.isPlacing=!1,n.copyPlaceRectPosition())},l.prototype._bindFitEvents=function(t){function e(){2==++n&&i.emitEvent("fitComplete",[t])}var i=this,n=0;t.on("layout",(function(){return e(),!0})),this.on("layoutComplete",(function(){return e(),!0}))},l.prototype.resize=function(){var t=e(this.element),i=this.size&&t,n=this.options.isHorizontal?"innerHeight":"innerWidth";i&&t[n]==this.size[n]||this.layout()},l.Rect=n,l.Packer=o,l})),function(t,e){"function"==typeof define&&define.amd?define(["TG_Layout/js/layout-mode","packery/js/packery","get-size/get-size"],e):"object"==typeof exports?module.exports=e(require("TG_Layout-layout/js/layout-mode"),require("packery"),require("get-size")):e(t.TG_Layout.LayoutMode,t.Packery,t.getSize)}(window,(function(t,e,i){var n=t.create("packery"),o=n.prototype._getElementOffset,r=n.prototype._getMeasurement;!function(t,e){for(var i in e)t[i]=e[i]}(n.prototype,e.prototype),n.prototype._getElementOffset=o,n.prototype._getMeasurement=r;var a=n.prototype._resetLayout;n.prototype._resetLayout=function(){this.packer=this.packer||new e.Packer,a.apply(this,arguments)};var s=n.prototype._getItemLayoutPosition;return n.prototype._getItemLayoutPosition=function(t){return t.rect=t.rect||new e.Rect,s.call(this,t)},n.prototype.needsResizeLayout=function(){var t=i(this.element),e=this.size&&t,n=this.options.isHorizontal?"innerHeight":"innerWidth";return e&&t[n]!=this.size[n]},n})),function(t){"use strict";function e(t){var e=t.create("horizontal");return e.prototype._resetLayout=function(){this.x=0},e.prototype._getItemLayoutPosition=function(t){t.getSize(),this._getMeasurement("gutter","width");var e=this.x;return this.x+=t.size.outerWidth+this.gutter,{x:e,y:0}},e.prototype._getContainerSize=function(){return{width:this.x-this.gutter}},e.prototype.needsResizeLayout=function(){return this.needsVerticalResizeLayout()},e}"function"==typeof define&&define.amd?define(["TG_Layout/js/layout-mode"],e):"object"==typeof exports?module.exports=e(require("TG_Layout-layout/js/layout-mode")):e(t.TG_Layout.LayoutMode)}(window),function(t){"use strict";function e(t){var e=t.create("justified");return e.prototype._resetLayout=function(){this.justified_data=[],this.prev_width=0,this.prev_top=0,this.max_width=0,this.count=0,this._getMeasurement("gutter","width"),this._getMeasurement("rowHeight","height");var t=this.TG_Layout.size.innerWidth+this.gutter,e=this.TG_Layout.filteredItems;if(this.options.isHorizontal)this.row(e);else{t:for(;e.length>0;){for(var i=1;i<e.length+1;++i){var n=e.slice(0,i),o=this.getHeight(n,t);if(o<this.rowHeight){this.setHeight(n,o),e=e.slice(i);continue t}}this.setHeight(n,Math.min(this.rowHeight,o));break}this.checkWidth()}},e.prototype.row=function(t){for(var e=this.options.row,i=this.rowHeight,n=0;n<t.length;++n){var o=jQuery(t[n].element).find(this.options.image),r=o[0]?this.getSize(o):[],a=r.width?Math.round(i*r.width/r.height):16*i/9,s=this.justified_data[n-e],l=s?s.x+s.width+this.gutter:0,u=s?s.y:n*(i+this.gutter);this.justified_data.push({width:a,height:i,x:l,y:u})}},e.prototype.getHeight=function(t,e){e-=t.length*this.gutter;for(var i=0,n=0;n<t.length;++n){var o=jQuery(t[n].element).find(this.options.image),r=o[0]?this.getSize(o):[];i+=(r.width?r.width:16*this.rowHeight/9)/(r.height?r.height:this.rowHeight)}return e/i},e.prototype.setHeight=function(t,e){this.prev_width=0;for(var i=0;i<t.length;++i){var n=jQuery(t[i].element).find(this.options.image),o=(e=Math.round(e),n[0]?this.getSize(n):[]),r=o.width?Math.round(e*o.width/o.height):16*e/9;this.justified_data.push({width:r,height:e,x:this.prev_width,y:this.prev_top}),this.prev_width+=r+this.gutter}this.prev_top+=e+this.gutter},e.prototype.getSize=function(t){if(t[0].naturalWidth)var e=t[0]?t[0].naturalWidth:null,i=t[0]?t[0].naturalHeight:null;else{var n=new Image;n.src=t[0]?t.attr("src"):null;e=n?n.width:null,i=n?n.height:null}return{width:e,height:i}},e.prototype.checkWidth=function(){for(var t=0,e=this.justified_data.length,i=0;i<this.justified_data.length;++i)this.justified_data[i].y!=t&&this.adjustWidth(i-1),t=this.justified_data[i].y;var n=this.justified_data[e-1];n&&n.x+n.width>this.TG_Layout.size.innerWidth&&this.adjustWidth(e-1)},e.prototype.adjustWidth=function(t){var e=this.justified_data[t].x,i=this.justified_data[t].width,n=this.TG_Layout.size.innerWidth-(e+i);this.justified_data[t].width=i+n},e.prototype._getItemLayoutPosition=function(t){if(!this.justified_data[this.count]){this.pcount=this.count,this._resetLayout();for(var e=0;e<this.pcount;++e)jQuery(this.TG_Layout.filteredItems[e].element).width(this.justified_data[e].width).height(this.justified_data[e].height).css("top",this.justified_data[e].y).css("left",this.justified_data[e].x),n=this.justified_data[e].x+this.justified_data[e].width,this.max_width=n>this.max_width?n:this.max_width;this.count=this.pcount}t.element.style.width=this.justified_data[this.count].width+"px",t.element.style.height=this.justified_data[this.count].height+"px";var i={x:this.justified_data[this.count].x,y:this.justified_data[this.count].y},n=i.x+this.justified_data[this.count].width;return this.max_width=n>this.max_width?n:this.max_width,++this.count,i},e.prototype._getContainerSize=function(){return this.options.isHorizontal?{width:this.max_width,height:(this.rowHeight+this.gutter)*this.options.row-this.gutter}:{height:this.prev_top-this.gutter}},e.prototype.needsResizeLayout=function(){return this.max_width},e}"function"==typeof define&&define.amd?define(["TG_Layout/js/layout-mode"],e):"object"==typeof exports?module.exports=e(require("TG_Layout-layout/js/layout-mode")):e(t.TG_Layout.LayoutMode)}(window),function(t){var e=TG_Layout.Item.prototype.reveal;TG_Layout.Item.prototype.reveal=function(){e.apply(this,arguments),t(this.element).removeClass("tg-item-hidden")};var i=TG_Layout.Item.prototype.hide;TG_Layout.Item.prototype.hide=function(){i.apply(this,arguments),t(this.element).addClass("tg-item-hidden")}}(jQuery),function(t,e,i){"use strict";function n(e,b,E){function M(e){var i=gt.length,n=rt.data("TG_Layout"),o=n?n.options[n.options.layoutMode].gutter.offsetWidth:0;if(!n)return!1;if(at=ot.width(),ct=ut.width(),st=rt.outerWidth(),gt.length=0,lt.start=0,lt.end=P(st-at,0),It){vt.length,yt=rt.children(et.itemSelector),vt.length=0;for(var r,a=u(rt,et.horizontal?"paddingLeft":"paddingTop"),s=u(rt,et.horizontal?"paddingRight":"paddingBottom"),l="border-box"===t(yt).css("boxSizing"),c=n.filteredItems,h=0,p=0,f=[],m=[],g=0;g<c.length;g++){var y=parseFloat(getComputedStyle(c[g].element).width)+o,v=c[g].position.x;p=v+y>p?v+y:p,f.push(v)}for(f.push(p),f.sort((function(t,e){return t-e})),g=1;g<f.length;g++)m.push(f[g]-f[g-1]);st=0,t(c).each((function(t,e){var i=o/2,n=o/2,l={};l.el=e,l.size=m[t],l.half=l.size/2,l.start=st-i,l.center=l.start-G(at/2-l.size/2),l.end=l.start-at+l.size,t||(st+=a),st+=l.size,et.horizontal||n&&i&&t>0&&(st-=j(i,n)),0===t&&(l.end+=s,st+=s,h=n),l.size&&(vt.push(l),r=l)})),rt[0].style[et.horizontal?"width":"height"]=(l?st:st-a-s)+"px",st-=h,vt.length?(lt.start=vt[0][Lt?"center":"start"],lt.end=Lt?r.center:at<st?r.end:lt.start):lt.start=lt.end=0}if(lt.center=G(lt.end/2+lt.start/2),A(),!nt&&at>0){var _=lt.start,w="";if(It)t.each(vt,(function(t,e){Lt?gt.push(e.center):e.start+e.size>_&&_<=lt.end&&(_=e.start,gt.push(e.size<at&&"justified"===n.options.layoutMode?e.start+(e.size-at)/2:e.start),(_+=at)>lt.end&&_<lt.end+at&&gt.push(lt.end))}));else for(;_-at<lt.end;)gt.push(_),_+=at;if(ft[0]&&i!==gt.length){for(g=0;g<gt.length;g++)w+=et.pageBuilder.call(it,g);1===gt.length&&(w=null),(mt=ft.html(w).children()).eq(_t.activePage).addClass(et.activeClass)}}if(_t.slideeSize=st,_t.frameSize=at,_t.sbSize=ct,_t.handleSize=ht,It){e&&null!=et.startAt&&it[Ct?"toCenter":"toStart"](et.startAt);var b=vt[_t.activeItem];k(Ct&&b?b.center:d(lt.dest,lt.start,lt.end))}else e?null!=et.startAt&&k(et.startAt,1):k(d(lt.dest,lt.start,lt.end));J("load")}function k(t,e,i){if(It&&qt.released&&!i){var n=q(t),o=t>lt.start&&t<lt.end;Ct?(o&&(t=vt[n.centerItem].center),Lt&&et.activateMiddle&&activate(n.centerItem)):o&&(t=vt[n.firstItem].start)}qt.init&&qt.slidee&&et.elasticBounds?t>lt.end?t=lt.end+(t-lt.end)/6:t<lt.start&&(t=lt.start+(t-lt.start)/6):t=d(t,lt.start,lt.end),Ot.start=+new Date,Ot.time=0,Ot.from=lt.cur,Ot.to=t,Ot.delta=t-lt.cur,Ot.tweesing=qt.tweese||qt.init&&!qt.slidee,Ot.immediate=!Ot.tweesing&&(e||qt.init&&qt.slidee||!et.speed),qt.tweese=0,t!==lt.dest&&(lt.dest=t,J("change"),At||D()),qt.released&&!it.isPaused&&it.resume(),A(),function(){var t=lt.dest<=lt.start,e=lt.dest>=lt.end,i=(t?1:0)|(e?2:0);if(Rt.slideePosState!==i&&(Rt.slideePosState=i,Mt.is("button,input")&&Mt.prop("disabled",t),kt.is("button,input")&&kt.prop("disabled",e),Mt.add(Pt)[t?"addClass":"removeClass"](et.disabledClass),kt.add(Gt)[e?"addClass":"removeClass"](et.disabledClass)),Rt.fwdbwdState!==i&&qt.released&&(Rt.fwdbwdState=i,Pt.is("button,input")&&Pt.prop("disabled",t),Gt.is("button,input")&&Gt.prop("disabled",e)),It&&null!=_t.activeItem){var n=0===_t.activeItem,o=_t.activeItem>=vt.length-1,r=(n?1:0)|(o?2:0);Rt.itemsButtonState!==r&&(Rt.itemsButtonState=r,jt.is("button,input")&&jt.prop("disabled",n),Et.is("button,input")&&Et.prop("disabled",o),jt[n?"addClass":"removeClass"](et.disabledClass),Et[o?"addClass":"removeClass"](et.disabledClass))}}(),mt[0]&&Rt.page!==_t.activePage&&(Rt.page=_t.activePage,mt.removeClass(et.activeClass).eq(_t.activePage).addClass(et.activeClass),J("activePage",Rt.page))}function D(){if(it.initialized){if(!At)return At=g(D),void(qt.released&&J("moveStart"));Ot.immediate?lt.cur=Ot.to:Ot.tweesing?(Ot.tweeseDelta=Ot.to-lt.cur,C(Ot.tweeseDelta)<.1?lt.cur=Ot.to:lt.cur+=Ot.tweeseDelta*(qt.released?et.swingSpeed:et.syncSpeed)):(Ot.time=j(+new Date-Ot.start,et.speed),lt.cur=Ot.from+Ot.delta*t.easing[et.easing](Ot.time/et.speed,Ot.time,0,1,et.speed)),Ot.to===lt.cur?(lt.cur=Ot.to,qt.tweese=At=0):At=g(D),J("move"),nt||(h?rt[0].style[h]=p+(et.horizontal?"translateX":"translateY")+"("+-lt.cur+"px)":rt[0].style[et.horizontal?"left":"top"]=-G(lt.cur)+"px"),!At&&qt.released&&J("moveEnd")}}function R(){Wt.speed&&lt.cur!==(Wt.speed>0?lt.end:lt.start)||it.stop(),Ft=qt.init?g(R):0,Wt.now=+new Date,Wt.pos=lt.cur+(Wt.now-Wt.lastTime)/1e3*Wt.speed,k(qt.init?Wt.pos:G(Wt.pos)),qt.init||lt.cur!==lt.dest||J("moveEnd"),Wt.lastTime=Wt.now}function O(t,e,n){if("boolean"===o(e)&&(n=e,e=i),e===i)k(lt[t],n);else{if(Ct&&"center"!==t)return;var r=it.getPos(e);r&&k(r[t],n,!Ct)}}function W(t){return null!=t?l(t)?t>=0&&t<vt.length?t:-1:yt.index(t):-1}function q(t){t=d(l(t)?t:lt.dest,lt.start,lt.end);var e={},i=Lt?0:at/2;if(!nt)for(var n=0,o=gt.length;n<o;n++){if(t>=lt.end||n===gt.length-1){e.activePage=gt.length-1;break}if(t<=gt[n]+i){e.activePage=n;break}}if(It){for(var r=!1,a=!1,s=!1,u=0,c=vt.length;u<c;u++)if(!1===r&&t<=vt[u].start+vt[u].half&&(r=u),!1===s&&t<=vt[u].center+vt[u].half&&(s=u),u===c-1||t<=vt[u].end+vt[u].half){a=u;break}e.firstItem=l(r)?r:0,e.centerItem=l(s)?s:e.firstItem,e.lastItem=l(a)?a:e.centerItem}return e}function A(e){t.extend(_t,q(e))}function H(t,e){for(var i=0,n=Dt[t].length;i<n;i++)if(Dt[t][i]===e)return i;return-1}function B(){qt.history[0]=qt.history[1],qt.history[1]=qt.history[2],qt.history[2]=qt.history[3],qt.history[3]=qt.delta}function F(t){qt.released=0,qt.source=t,qt.slidee="slidee"===t}function N(e){var i="touchstart"===e.type,n=e.data.source,o="slidee"===n;qt.init||!i&&function(e){return~t.inArray(e.nodeName,z)||t(e).is(et.interactive)}(e.target)||("handle"!==n||et.dragHandle&&pt.start!==pt.end)&&(o&&!(i?et.touchDragging:et.mouseDragging&&e.which<2)||(i||r(e),F(n),qt.init=0,qt.$source=t(e.target),qt.touch=i,qt.pointer=i?e.originalEvent.touches[0]:e,qt.initX=qt.pointer.pageX,qt.initY=qt.pointer.pageY,qt.initPos=o?lt.cur:pt.cur,qt.start=+new Date,qt.time=0,qt.path=0,qt.delta=0,qt.locked=0,qt.history=[0,0,0,0],qt.pathToLock=o?i?30:10:0,y.on(i?w:_,Y),it.pause(1),(o?rt:dt).addClass(et.draggedClass),J("moveStart"),o&&(Ht=setInterval(B,10))))}function Y(t){if(qt.released="mouseup"===t.type||"touchend"===t.type,qt.pointer=qt.touch?t.originalEvent[qt.released?"changedTouches":"touches"][0]:t,qt.pathX=qt.pointer.pageX-qt.initX,qt.pathY=qt.pointer.pageY-qt.initY,qt.path=I(S(qt.pathX,2)+S(qt.pathY,2)),qt.delta=et.horizontal?qt.pathX:qt.pathY,qt.released||!(qt.path<1)){if(!qt.init){if(!(et.horizontal?C(qt.pathX)>C(qt.pathY):C(qt.pathX)<C(qt.pathY)))return Q();qt.init=1}r(t),!qt.locked&&qt.path>qt.pathToLock&&qt.slidee&&(qt.locked=1,qt.$source.on(T,a)),qt.released&&(Q(),et.releaseSwing&&qt.slidee&&(qt.swing=(qt.delta-qt.history[0])/40*300,qt.delta+=qt.swing,qt.tweese=C(qt.swing)>10)),k(qt.slidee?G(qt.initPos-qt.delta):function(t){return G(d(t,pt.start,pt.end)/pt.end*(lt.end-lt.start))+lt.start}(qt.initPos+qt.delta))}}function Q(){clearInterval(Ht),qt.released=!0,y.off(qt.touch?w:_,Y),(qt.slidee?rt:dt).removeClass(et.draggedClass),setTimeout((function(){qt.$source.off(T,a)})),lt.cur===lt.dest&&qt.init&&J("moveEnd"),it.resume(1),qt.init=0}function X(){it.stop(),y.off("mouseup",X)}function V(t){switch(r(t),this){case Gt[0]:case Pt[0]:it.moveBy(Gt.is(this)?et.moveBy:-et.moveBy),y.on("mouseup",X);break;case jt[0]:it.prev();break;case Et[0]:it.next();break;case Mt[0]:it.prevPage();break;case kt[0]:it.nextPage()}}function U(t){if(et.keyboardNavBy)switch(t.which){case et.horizontal?37:38:r(t),it["pages"===et.keyboardNavBy?"prevPage":"prev"]();break;case et.horizontal?39:40:r(t),it["pages"===et.keyboardNavBy?"nextPage":"next"]()}}function $(){this.parentNode===ft[0]&&it.activatePage(mt.index(this))}function Z(t){et.pauseOnHover&&it["mouseenter"===t.type?"pause":"resume"](2)}function J(t,e){if(Dt[t]){for(tt=Dt[t].length,L.length=0,K=0;K<tt;K++)L.push(Dt[t][K]);for(K=0;K<tt;K++)L[K].call(it,t,e)}}var K,tt,et=t.extend({},n.defaults,b),it=this,nt=l(e),ot=t(e),rt=et.slidee?t(et.slidee).eq(0):ot.children().eq(0),at=0,st=0,lt={start:0,center:0,end:0,cur:0,dest:0},ut=t(et.scrollBar).eq(0),dt=ut.children().eq(0),ct=0,ht=0,pt={start:0,end:0,cur:0},ft=t(et.pagesBar),mt=0,gt=[],yt=0,vt=[],_t={firstItem:0,lastItem:0,centerItem:0,activeItem:null,activePage:0},wt=new c(ot[0]),bt=new c(rt[0]),Tt=new c(ut[0]),xt=new c(dt[0]),zt="basic"===et.itemNav,Lt="forceCentered"===et.itemNav,Ct="centered"===et.itemNav||Lt,It=!nt&&(zt||Ct||Lt),St=(et.scrollSource&&t(et.scrollSource),et.dragSource?t(et.dragSource):ot),Gt=t(et.forward),Pt=t(et.backward),jt=t(et.prev),Et=t(et.next),Mt=t(et.prevPage),kt=t(et.nextPage),Dt={},Rt={},Ot={},Wt={},qt={released:1},At=0,Ht=0,Bt=0,Ft=0;nt||(e=ot[0]),it.initialized=0,it.frame=e,it.slidee=rt[0],it.pos=lt,it.rel=_t,it.items=vt,it.pages=gt,it.isPaused=0,it.options=et,it.dragging=qt,it.reload=function(){M()},it.getPos=function(t){if(It){var e=W(t);return-1!==e&&vt[e]}var i=rt.find(t).eq(0);if(i[0]){var n=et.horizontal?i.offset().left-rt.offset().left:i.offset().top-rt.offset().top,o=i[et.horizontal?"outerWidth":"outerHeight"]();return{start:n,center:n-at/2+o/2,end:n-at+o,size:o}}return!1},it.moveBy=function(t){Wt.speed=t,!qt.init&&Wt.speed&&lt.cur!==(Wt.speed>0?lt.end:lt.start)&&(Wt.lastTime=+new Date,Wt.startPos=lt.cur,F("button"),qt.init=1,J("moveStart"),m(Ft),R())},it.stop=function(){"button"===qt.source&&(qt.init=0,qt.released=1)},it.prev=function(){it.activate(null==_t.activeItem?0:_t.activeItem-1)},it.next=function(){it.activate(null==_t.activeItem?0:_t.activeItem+1)},it.prevPage=function(){it.activatePage(_t.activePage-1)},it.nextPage=function(){it.activatePage(_t.activePage+1)},it.slideBy=function(t,e){t&&(It?it[Ct?"toCenter":"toStart"](d((Ct?_t.centerItem:_t.firstItem)+et.scrollBy*t,0,vt.length)):k(lt.dest+t,e))},it.slideTo=function(t,e){k(t,e)},it.toStart=function(t,e){O("start",t,e)},it.toEnd=function(t,e){O("end",t,e)},it.toCenter=function(t,e){O("center",t,e)},it.getIndex=W,it.activatePage=function(t,e){l(t)&&k(gt[d(t,0,gt.length-1)],e)},it.resume=function(t){et.cycleBy&&et.cycleInterval&&("items"!==et.cycleBy||vt[0]&&null!=_t.activeItem)&&!(t<it.isPaused)&&(it.isPaused=0,Bt?Bt=clearTimeout(Bt):J("resume"),Bt=setTimeout((function(){switch(J("cycle"),et.cycleBy){case"items":it.activate(_t.activeItem>=vt.length-1?0:_t.activeItem+1);break;case"pages":it.activatePage(_t.activePage>=gt.length-1?0:_t.activePage+1)}}),et.cycleInterval))},it.pause=function(t){t<it.isPaused||(it.isPaused=t||100,Bt&&(Bt=clearTimeout(Bt),J("pause")))},it.toggle=function(){it[Bt?"pause":"resume"]()},it.on=function(t,e){if("object"===o(t))for(var i in t)t.hasOwnProperty(i)&&it.on(i,t[i]);else if("function"===o(e))for(var n=t.split(" "),r=0,a=n.length;r<a;r++)Dt[n[r]]=Dt[n[r]]||[],-1===H(n[r],e)&&Dt[n[r]].push(e);else if("array"===o(e))for(var s=0,l=e.length;s<l;s++)it.on(t,e[s])},it.init=function(){if(!it.initialized){it.on(E);var t=["overflow","position"],e=["position","webkitTransform","msTransform","transform","left","top","width","height"];wt.save.apply(wt,t),Tt.save.apply(Tt,t),bt.save.apply(bt,e),xt.save.apply(xt,e);var i=dt;return nt||(i=i.add(rt),ot.css("overflow","hidden"),h||"static"!==ot.css("position")||ot.css("position","relative")),h?p&&i.css(h,p):("static"===ut.css("position")&&ut.css("position","relative"),i.css({position:"absolute"})),et.forward&&Gt.on(x,V),et.backward&&Pt.on(x,V),et.prev&&jt.on(T,V),et.next&&Et.on(T,V),et.prevPage&&Mt.on(T,V),et.nextPage&&kt.on(T,V),ft[0]&&et.activatePageOn&&ft.on(et.activatePageOn+"."+f,"*",$),St.on(v,{source:"slidee"},N),dt&&dt.on(v,{source:"handle"},N),y.on("keydown",U),nt||(ot.on("mouseenter."+f+" mouseleave."+f,Z),ot.on("scroll."+f,s)),it.initialized=1,M(!0),et.cycleBy&&!nt&&it[et.startPaused?"pause":"resume"](),it}}}function o(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()||"object":typeof t}function r(t,e){t.preventDefault(),e&&t.stopPropagation()}function a(e){r(e,1),t(this).off(e.type,a)}function s(){this.scrollLeft=0,this.scrollTop=0}function l(t){return!isNaN(parseFloat(t))&&isFinite(t)}function u(t,e){return 0|G(String(t.css(e)).replace(/[^\-0-9.]/g,""))}function d(t,e,i){return t<e?e:t>i?i:t}function c(t){var e={style:{},save:function(){if(t&&t.nodeType){for(var i=0;i<arguments.length;i++)e.style[arguments[i]]=t.style[arguments[i]];return e}},restore:function(){if(t&&t.nodeType){for(var i in e.style)e.style.hasOwnProperty(i)&&(t.style[i]=e.style[i]);return e}}};return e}var h,p,f="TG_Slider",m=e.cancelAnimationFrame||e.cancelRequestAnimationFrame,g=e.requestAnimationFrame,y=t(document),v="touchstart."+f+" mousedown."+f,_="mousemove."+f+" mouseup."+f,w="touchmove."+f+" touchend."+f,b=(document.implementation.hasFeature("Event.wheel","3.0")?"wheel.":"mousewheel.")+f,T="click."+f,x="mousedown."+f,z=["INPUT","SELECT","BUTTON","TEXTAREA"],L=[],C=Math.abs,I=Math.sqrt,S=Math.pow,G=Math.round,P=Math.max,j=Math.min,E=0;y.on(b,(function(t){var e=t.originalEvent[f],i=+new Date;(!e||e.options.scrollHijack<i-E)&&(E=i)})),function(t){g=t.requestAnimationFrame||t.webkitRequestAnimationFrame||function(t){var i=(new Date).getTime(),n=Math.max(0,16-(i-e)),o=setTimeout(t,n);return e=i,o};var e=(new Date).getTime(),i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.clearTimeout;m=function(e){i.call(t,e)}}(window),function(){function t(t){for(var n=0,o=e.length;n<o;n++){var r=e[n]?e[n]+t.charAt(0).toUpperCase()+t.slice(1):t;if(null!=i.style[r])return r}}var e=["","Webkit","Moz","ms","O"],i=document.createElement("div");h=t("transform"),p=t("perspective")?"translateZ(0) ":""}(),e.TG_Slider=n,t.fn.TG_Slider=function(e,i){var r,a;return t.isPlainObject(e)||("string"!==o(e)&&!1!==e||(r=!1===e?"destroy":e,a=Array.prototype.slice.call(arguments,1)),e={}),this.each((function(o,s){var l=t.data(s,f);l||r?l&&r&&l[r]&&l[r].apply(l,a):l=t.data(s,f,new n(s,e,i).init())}))}}(jQuery,window);var The_Grid={preview:"#tg-grid-preview-inner",wrapper:".tg-grid-wrapper",slider:".tg-grid-slider",grid:".tg-grid-holder",loader:".tg-grid-preloader",ajax:".tg-ajax-button",ajaxMsg:".tg-ajax-scroll-holder",sizer:".tg-grid-sizer",gutter:".tg-gutter-sizer",item:".tg-item",itemImg:".tg-item-image",gallery:".tg-item-gallery-holder",tooltip:".tg-filter-count",filterH:".tg-filters-holder",filter:".tg-filter, .tg-filters-holder select",search:".tg-search",clear:".tg-search-clear",sorter:".tg-sorters-holder",sorterBy:".tg-sorter li, select.tg-sorter",sortASC:".tg-sorter-order",arrLeft:".tg-left-arrow",arrRight:".tg-right-arrow",bullets:".tg-slider-bullets",pages:".tg-page-ajax",sortData:{excerpt:"p",title:function(t){return jQuery(t).data("title")},id:function(t){return jQuery(t).data("id")},date:function(t){return jQuery(t).data("date")},author:function(t){return jQuery(t).data("author")},comment:function(t){return jQuery(t).data("comment")},popular_post:function(t){return jQuery(t).data("popular-post")},total_sales:function(t){return jQuery(t).data("total-sales")},regular_price:function(t){return jQuery(t).data("regular-price")},sale_price:function(t){return jQuery(t).data("sale-price")},featured:function(t){return jQuery(t).data("featured")},stock:function(t){return jQuery(t).data("stock")},sku:function(t){return jQuery(t).data("sku")}},defaults:{style:"grid",layout:"vertical",fitrows:!1,fullWidth:null,fullHeight:null,rtl:!0,filterComb:!1,filterLogic:"AND",filterLoad:"",sortByLoad:"",orderLoad:!1,row:1,ratio:1,gutters:[[9999,0],[1200,0],[980,0],[768,0],[480,0],[320,0]],cols:[[9999,4],[1200,3],[980,3],[768,2],[480,1],[320,1]],rows:[[9999,240],[1200,240],[980,220],[768,220],[480,200],[320,200]],animation:[{name:"None"},{visible:""},{hidden:""}],transition:0,itemNav:null,swingSpeed:500,cycleBy:null,cycle:5e3,startAt:0,ajaxMethod:null,ajaxDelay:0,preloader:0,itemDelay:0,gallery:!1}},tg_meta_data=tg_global_var.meta_data,tg_custom_sorter={};if(tg_meta_data)for(var i=0;i<tg_meta_data.length;i++){var tg_cmk=tg_meta_data[i].key,tg_cma=(tg_cmk=tg_cmk.length&&"_"==tg_cmk[0]?tg_cmk.slice(1):tg_cmk).replace(/\_/g,"-");!function(t){tg_custom_sorter[tg_cmk]=function(e){return jQuery(e).data(t)}}(tg_cma)}The_Grid.sortData=jQuery.extend({},The_Grid.sortData,tg_custom_sorter);var tg_debounce_resize=tg_global_var.debounce?"debouncedresize":"resize",tg_is_mobile=tg_global_var.is_mobile;!function(t){"use strict";t.fn.The_Grid=function(e){return this.each((function(){function e(t){var e=K.not(".tg-item-hidden").length;t.length===e&&L.reload()}function i(e){for(var i=0;i<t(e).length;i++)for(var n,o,r=t(e).eq(i),a=r.get(0).attributes,s=0;s<a.length;s++)n=a[s].name,o=a[s].value,0===n.indexOf("data-")&&"data-row"!==n&&"data-col"!==n&&(r.removeAttr(n),r.data(n.replace("data-",""),o),s--)}function n(e){if(!q)return!1;var i;K.removeClass("tg-item-index"),it.val(""),pt.filterComb?(i=[],"*"===e.data("filter")?e.nextAll("[data-filter]").removeClass("tg-filter-active"):e.prevAll('[data-filter="*"]').removeClass("tg-filter-active"),"*"===e.data("filter")?e.closest("select").find("option").prop("selected",!1):e.closest("select").find('[data-filter="*"]').prop("selected",!0),e.toggleClass("tg-filter-active"),Y.find(".tg-filter-active").each((function(){"*"!=t(this).data("filter")&&i.push(t(this).data("filter"))})),i="AND"===pt.filterLogic?function(t){var e="";for(var i in t)t.hasOwnProperty(i)&&(e+=t[i]);return e}(i):i.join(", ")):(i=e.data("filter"),et.removeClass("tg-filter-active"),e.addClass("tg-filter-active")),!i&&Y.find('[data-filter="*"]').addClass("tg-filter-active"),tt.each((function(e,i){var n=t(this).find(The_Grid.filter+".tg-filter-active").length;0===n&&t(this).find('[data-filter="*"]').addClass("tg-filter-active")})),D.TG_Layout({filter:i}),t.TG_Pause_Players()}function o(t){if(!q)return!1;w="none"===t.data("value")?"":t.data("value"),b=t.text(),O=at.data("asc"),K.removeClass("tg-item-index"),ot.find(".tg-dropdown-value").text(b),D.TG_Layout({sortAscending:O,sortBy:w})}function r(){if(pt.fullWidth&&0===Q.length){Y.css("left",0);var e=parseInt(Y.css("margin-left")),i=parseInt(Y.css("margin-right")),n=Y.offset().left-e;Y.width(t(window).width()-(e+i)),Y.css("left",-n)}}function a(){var e;pt.gallery&&(l(),!The_Grid.galleryInt&&t(The_Grid.gallery).length>0&&(The_Grid.galleryInt=setInterval((function(){T=Math.floor(Math.random()*R.length),x=x===T&&R.length>0?s(R,T+1):T,e=t(The_Grid.gallery).eq(x),z=R.length>0?s(R[x],e.find(".show").index()-1+2):0,e.find(The_Grid.itemImg).removeClass("show"),e.find(The_Grid.itemImg).eq(z).addClass("show")}),3500)))}function s(t,e){return(t.length+e%t.length)%t.length}function l(){R=[];for(var e=t(The_Grid.gallery),i=0;i<e.length;i++){var n=t(e[i]).find(The_Grid.itemImg);R[i]=[];for(var o=0;o<n.length;o++)R[i][o]=t(n[o])}}function u(){for(var t=0;t<et.length;t++){var e=et.eq(t).data("filter"),i=dt.length>0?".tg-item-hidden":null,n="*"!==e?D.find(e).not(i).length:K.not(i).length;et.eq(t).find(The_Grid.tooltip).html(n),et.eq(t).find("span:first-child").data("count")&&et.eq(t).find("span:first-child").data("tooltip",n),0===n?et.eq(t).removeClass("tg-show-filter"):et.eq(t).addClass("tg-show-filter")}}function d(){if(U.length>0)if((W=U.data("item-tt")?U.data("item-tt")-K.length:99999)<=0)U.addClass("tg-no-more"),U.find("span").html(U.data("no-more")),setTimeout((function(){U.fadeOut(500)}),3e3);else{var t=U.data("button");U.data("remain")?U.find("span").html(t+" ("+W+")"):U.find("span").html(t)}}function c(){for(var e="justified"!==pt.style?pt.cols:pt.rows,i=function(){if(0===Q.length){var t=window,e="inner";return"innerWidth"in window||(e="client",t=document.documentElement||document.body),{width:t[e+"Width"]}}return{width:Q.width()}}().width,n=0,o=e.length;n<o&&e[n][0]>=i;n++)P=e[n][1],C=pt.gutters[n][1];if(J.width(C),"justified"!==pt.style){var r=Y.width();if(j=r/P-C,"vertical"===pt.layout&&(D.width(""),j=(j=(r-(M=(P-1)*C))/P)%1!=0?Math.ceil(j):j,k=P*j+M,D.css("left",-(k-D.width())/2+"px"),D.width(k)),pt.fullHeight&&"horizontal"===pt.layout){var a=t("#wpadminbar").height();E=0===Q.length?(t(window).height()-a-C*(pt.row-1))/pt.row:Q.height()/pt.row}else E=Math.round(j/pt.ratio)}else E=P,Z.height(E);"null"===pt.itemNav&&X.css("padding","0 "+C/2+"px")}function h(){if("justified"!==pt.style){Z.width(j);for(var t=0;t<K.length;t++){var e=K.eq(t).data("col"),i=K.eq(t).data("row");i="horizontal"===pt.layout&&i>pt.row?pt.row:i,1===P?(I=j,S=E):P<e?(G=Math.round(P/(e/i)),I=P*j+(P-1)*C,S=1===(G=G<=1?1:G)?E:G*E+(G-1)*C):(I=e*j+(e-1)*C,S=i*E+(i-1)*C),K.eq(t).width(I),"grid"===pt.style?K.eq(t).height(S):null}}}function p(){var e;"horizontal"===pt.layout&&("masonry"===pt.style?(Y.removeClass("tg-grid-loading"),e=Math.max.apply(null,K.map((function(){return t(this).height()})).get()),D.add(X).height(e)):(e=E*pt.row+C*(pt.row-1),D.add(X).height(e)))}function f(){var t,e,n=!1;"horizontal"===pt.layout?(n=!0,t=e="grid"===pt.style?"packery":"justified"===pt.style?"justified":"horizontal"):t=e="grid"===pt.style?"packery":pt.style;var o={};o[e]={},o.hiddenStyle={},o.visibleStyle={},o.layoutMode=t,o.filter=pt.filterLoad,"none"!==pt.sortByLoad&&(o.sortBy=pt.sortByLoad),o.sortAscending=pt.orderLoad,o.isOriginLeft=pt.rtl,o.itemSelector=The_Grid.item,o[e].gutter=J[0],o[e].rowHeight=Z[0],o[e].columnWidth=Z[0],o[e].isHorizontal=n,o[e].isFitRows=pt.fitrows,o[e].image=The_Grid.itemImg,o[e].row=pt.row,o[e].previewMode=Q,o.hiddenStyle.opacity=0,o.visibleStyle.opacity=1,o.hiddenStyle.transform=pt.animation.hidden,o.visibleStyle.transform=pt.animation.visible,o.transitionDuration=pt.transition,o.getSortData=The_Grid.sortData,D.TG_Layout(o),i(K)}function m(){if("horizontal"===pt.layout){var e=D.data("TG_Layout"),i=e.filteredItems,n=pt.startAt=pt.startAt-1>i.length?i.length:pt.startAt;"forceCentered"===pt.itemNav&&0===ut.length&&(ut=t(t('<div class="tg-slider-bullets"></div>')).appendTo(Y).hide()),L=new TG_Slider(X,{itemSelector:".tg-item:not(.tg-item-hidden)",cycleBy:pt.cycleBy,cycleInterval:pt.cycle,pauseOnHover:1,itemNav:pt.itemNav,startAt:pt.startAt-1,smart:1,horizontal:1,easing:"easeOutExpo",speed:1e3,swingSpeed:pt.swingSpeed,releaseSwing:1,mouseDragging:1,touchDragging:1,elasticBounds:1,moveBy:I,syncSpeed:.8,keyboardNavBy:"pages",activeClass:"tg-active-item",disabledClass:"tg-disabled",draggedClass:"tg-slider-dragged",pageBuilder:function(){return"<li><span></span></li>"},pagesBar:ut,prevPage:st,nextPage:lt,activatePageOn:"click"}).init(),X.data("slider",L).trigger("tg-slider-init"),"forceCentered"===pt.itemNav&&(t(i[n-1].element).addClass("tg-active-item"),L.on("load activePage",(function(n){n=this.rel.activePage,e=D.data("TG_Layout"),i=e.filteredItems,K.removeClass("tg-active-item"),i[n]&&t(i[n].element).addClass("tg-active-item")})))}}function g(e){if(B&&(3==B.readyState||2==B.readyState||1==B.readyState))return!1;var i={action:"the_grid_load_more",grid_nonce:tg_global_var.nonce,grid_name:e.data("name"),grid_page:H,grid_data:v(),grid_ajax:e.data("ajax"),main_query:tg_global_var.main_query};B=t.ajax({url:tg_global_var.url,type:"post",datatype:"json",data:i,beforeSend:function(){A=!0,H+=1,U.data("loading")&&!U.hasClass("tg-no-more")&&U.find("span").html(U.data("loading")),t($).length>0&&0===U.length&&t($).addClass("tg-loading")},success:function(i){var n=i.success,o=i.message,r=i.content,s=i.ajax_data;try{s=t.parseJSON(s)}catch(t){}if(e.data("ajax",s),!n)return U.add(t($)).add(dt).removeClass("tg-loading"),V.find("> div").html(o),U.find("span").html(o),t($).children("div").html(o),H-=1,!1;if(!r)return U.data("item-tt",-1),d(),t($).children("div").html(t($).children("div").data("no-more")),setTimeout((function(){t($).fadeOut(400)}),1e3),H-=1,!1;var c=t(r);0===dt.length&&c.addClass("tg-item-index"),c.find(The_Grid.grid).length>0&&(c=c.find(The_Grid.item).removeClass("tg-item-reveal")),e.append(c),K=e.find(The_Grid.item),c.hide(),h(),t.TG_media_init(),u(),l(),a(),Q.length>0&&TG_excludeItem(),c=t(t.grep(c,(function(t){return void 0!==t.id}))),F.push(c),F.length<2&&y(c)},error:function(t,e,i){H-=1,console.error(t),console.error(e+" :: "+i)}})}function y(e){var n=e.length-1;e.the_grid_images_loaded({complete:function(){var o,r=0;V.hide(),ct&&t($).removeClass("tg-loading"),"horizontal"===pt.layout&&D.css("min-height",""),"masonry"===pt.style&&"horizontal"===pt.layout&&p(),o=window.tgInterval((function(){if(D.closest("body").length>0){if(D.TG_Layout("reLayout"),pt.ajaxDelay&&D.TG_Layout("appended",e.eq(r)),"horizontal"===pt.layout&&L.reload(),n===r||!pt.ajaxDelay)return u(),d(),!pt.ajaxDelay&&D.TG_Layout("appended",e),"horizontal"===pt.layout&&L.reload(),dt.removeClass("tg-loading"),A=!1,o.clear(),"undefined"!=typeof FOOBOX&&t.isFunction(FOOBOX.init)&&FOOBOX.init(),t().fancybox&&t(".tg-item a.fancybox").fancybox(),t().prettyPhoto&&t('.tg-item  a[rel^="prettyPhoto"]').prettyPhoto(),i(K),F.length>0&&(F.splice(0,1),F[0]&&y(F[0])),!1;r++}}),pt.ajaxDelay)}})}function v(){if(Q.length>0)return new TG_metaData(t("#the_grid_metabox .tomb-row"))}var _,w,b,T,x,z,L,C,I,S,G,P,j,E,M,k,D=t(this),R=[],O=!0,W=!0,q=!1,A=!1,H=1,B=null,F=[],N=D.closest(The_Grid.wrapper).attr("id"),Y=t('[id="'+N+'"]').length>1?D.closest(The_Grid.wrapper):t("#"+N),Q=Y.closest(The_Grid.preview),X=Y.find(The_Grid.slider),V=Y.find(The_Grid.loader),U=Y.find(The_Grid.ajax),$=Y.find(The_Grid.ajaxMsg),Z=Y.find(The_Grid.sizer),J=Y.find(The_Grid.gutter),K=Y.find(The_Grid.item),tt=Y.find(The_Grid.filterH),et=Y.find(The_Grid.filter),it=Y.find(The_Grid.search),nt=Y.find(The_Grid.clear),ot=Y.find(The_Grid.sorter),rt=Y.find(The_Grid.sorterBy),at=Y.find(The_Grid.sortASC),st=Y.find(The_Grid.arrLeft),lt=Y.find(The_Grid.arrRight),ut=Y.find(The_Grid.bullets),dt=Y.find(The_Grid.pages),ct=D.data(),ht={style:ct.style&&ct.style,layout:ct.layout&&ct.layout,fitrows:ct.fitrows&&ct.fitrows,fullWidth:ct.fullwidth&&ct.fullwidth,fullHeight:ct.fullheight&&ct.fullheight,rtl:ct.rtl&&ct.rtl,filterComb:ct.filtercomb&&ct.filtercomb,filterLogic:ct.filterlogic&&ct.filterlogic,filterLoad:ct.filterload&&ct.filterload,sortByLoad:ct.sortbyload&&ct.sortbyload,orderLoad:ct.orderload&&ct.orderload,row:ct.row&&ct.row,ratio:ct.ratio&&ct.ratio,gutters:ct.gutters&&ct.gutters,cols:ct.cols&&ct.cols,rows:ct.rows&&ct.rows,animation:ct.animation&&ct.animation,transition:ct.transition&&ct.transition,itemNav:ct.slider&&ct.slider.itemNav,swingSpeed:ct.slider&&ct.slider.swingSpeed,cycleBy:ct.slider&&ct.slider.cycleBy,cycle:ct.slider&&ct.slider.cycle,startAt:ct.slider&&ct.slider.startAt,ajaxMethod:ct.ajaxmethod&&ct.ajaxmethod,ajaxDelay:ct.ajaxdelay&&ct.ajaxdelay,preloader:ct.preloader&&ct.preloader,itemDelay:ct.itemdelay&&ct.itemdelay,gallery:ct.gallery&&ct.gallery},pt=t.extend({},The_Grid.defaults,ht);pt.cols.sort((function(t,e){return e[0]-t[0]})),pt.gutters.sort((function(t,e){return e[0]-t[0]})),pt.rows.sort((function(t,e){return e[0]-t[0]})),pt.rtl=!pt.rtl,pt.ajaxDelay=dt.length>0?pt.itemDelay:pt.ajaxDelay;for(var ft=t.map(ct,(function(t,e){return e})),mt=0;mt<ft.length;mt++)D.removeAttr("data-"+ft[mt]);r(),c(),h(),a(),u(),"masonry"===pt.style||"justified"===pt.style||pt.preloader||"horizontal"===pt.layout?K.the_grid_images_loaded({complete:function(){p(),f(),m(),pt.preloader&&function(){var e,i=0,n=D.data("TG_Layout");0===dt.length?V.remove():V.hide(),Y.removeClass("tg-grid-loading"),(_=n.filteredItems).length>0?e=window.tgInterval((function(){D.closest("body").length>0&&(t(_[i].element).removeClass("tg-item-reveal"),pt.itemDelay&&D.TG_Layout("reveal",[_[i]]),i!==_.length-1&&pt.itemDelay||(q=!0,K.removeClass("tg-item-reveal"),Y.addClass("tg-grid-loaded"),!pt.itemDelay&&D.TG_Layout("reveal",_),e.clear()),i++)}),pt.itemDelay):(q=!0,K.removeClass("tg-item-reveal"),Y.addClass("tg-grid-loaded"))}(),"horizontal"===pt.layout&&D.TG_Layout("on","arrangeComplete",(function(t){e(t)}))}}):(f(),m(),"horizontal"===pt.layout&&D.TG_Layout("on","arrangeComplete",(function(t){e(t)}))),q=!pt.preloader&&!0,q&&Y.addClass("tg-grid-loaded"),et.on("click",(function(e){var i=t(this);i.is("select")?et.one("change",(function(){n(i.find("option:selected"))})):n(i)})),tg_is_mobile?rt.on("change",(function(){o(t(this).find("option:selected"))})):rt.on("click",(function(){o(t(this))})),at.on("click",(function(){if(!q)return!1;var e=t(this);O=!0!==e.data("asc"),e.data("asc",O).attr("data-asc",O),K.removeClass("tg-item-index"),D.TG_Layout({sortAscending:O})}));var gt=it.keyup(debounce((function(){if(!q)return!1;var e=new RegExp(gt.val(),"gi");K.removeClass("tg-item-index"),et.removeClass("tg-filter-active"),D.TG_Layout({filter:function(){var i=t(this),n=!e||i.text().match(e);return t('.tg-filter[data-filter="*"]').addClass("tg-filter-active"),n&&!0}}),t.TG_Pause_Players()}),200));nt.on("click",(function(){it.val("").trigger("keyup")})),t(window).on(tg_debounce_resize,(function(){r(),c(),h(),p(),q&&D.closest("body").length>0&&D.TG_Layout("layout"),"horizontal"===pt.layout&&D.TG_Layout("once","layoutComplete",(function(t){e(t)}))})),dt.on("click",(function(e){e.preventDefault();var i=t(this);H=i.data("page"),i.is(".tg-page-current")||B&&(!B||4!=B.readyState)||A||!q||(ot.find(".tg-dropdown-value").text(""),it.val(""),et.removeClass("tg-filter-active"),t('.tg-filter[data-filter="*"]').addClass("tg-filter-active"),dt.removeClass("tg-page-current").addClass("tg-loading"),i.addClass("tg-page-current"),t(".tg-item-hidden").addClass("tg-item-removed"),t.TG_media_destroy(D),D.css("min-height",250).TG_Layout("remove",K).TG_Layout({filter:"*"}),D.contents().each((function(){8==this.nodeType?t(this).remove():null})),V.show(),g(D))})),U.on("click",(function(t){W&&(t.preventDefault(),g(D))})),"on_scroll"==pt.ajaxMethod&&t(window).on("mousewheel resize scroll",(function(){W&&Y.length&&Y[0].getBoundingClientRect().bottom<t(this).height()&&!0===q&&g(D)}))}))};var e=[];t.fn.the_grid_images_loaded=function(){function i(){if(++a>=s.length)return r.complete.call(o),!1}var n,o=t(this),r=t.extend({complete:function(){}},arguments[0]||{}),a=0,s=[];o.find("*").filter((function(){n=t(this).css("background-image"),(n=(n=!(n=(n=/^url\((['"]?)(.*)\1\)$/.exec(n))?n[2]:null)&&t(this).is("img")?t(this).attr("src"):n)&&(n.match(/\.(jpg|jpeg|png|bmp|gif|tif|tiff|jif|jfif)/g)||n.indexOf("external.xx.fbcdn")>=0||n.indexOf("drscdn.500px.org")>=0)?n:null)&&-1==t.inArray(n,e)&&(s.push(n),e.push(n))}));for(var l=[],u=0;u<s.length;u++)l[u]=new Image,l[u].onload=i,l[u].onerror=i,l[u].onabort=i,l[u].src=s[u];if(!s.length)return r.complete.call(o),!1},t(document).ready((function(){function e(e){if(e.data("list-DOM")){var i=e.data("list-DOM").removeClass(o),n=setTimeout((function(){i.remove(),i=null,e.data("list-DOM",i)}),400);t(e.data("list-DOM")).data("list-timer",n)}return!1}function i(e){var i=e.parent().offset(),n=e.parent().height(),o="relative"===t("body").css("position")?t(window).scrollTop()+t("body")[0].getBoundingClientRect().top:null,r=parseInt(e.css("margin-bottom")),a=e.outerWidth(),s=i.left,l=i.top+n-o-r,u=[];return u.top=l,u.left=s,u.width=a,u}var n,o="tg-dropdown-holder-animation";tg_is_mobile||(t(document).on("mouseenter",".tg-dropdown-holder",(function(e){e.preventDefault(),e.stopPropagation();var r=t(this),a=t(r.data("list-DOM")).data("list-timer");if(a)return clearTimeout(a),r.data("list-DOM").addClass(o),!1;var s=(n=r.find("ul")).clone(!0).addClass("tg-list-appended").attr("style","").appendTo("body");r.add(s).data("list-DOM",s),s.data("filter-DOM",r);var l=i(r);n.hide(),s.css({position:"absolute","z-index":99999,width:l.width,top:l.top,left:l.left}).addClass(o)})).on("mouseleave",".tg-dropdown-holder",(function(i){e(t(this))})),t(document).on("mouseenter touchstart",".tg-list-appended",(function(e){var i=t(this);if(i.data("list-DOM"))return clearTimeout(i.data("list-timer")),i.data("list-DOM").addClass(o),!1})).on("mouseleave touchend",".tg-list-appended",(function(i){e(t(this))})),t(document).on("click touchstart",".tg-list-appended li",(function(){var e=t(this).closest("ul"),n=e.data("filter-DOM");n.find('[data-filter="'+t(this).data("filter")+'"]').trigger("click"),n.find('[data-value="'+t(this).data("value")+'"]').trigger("click"),e.width(n.outerWidth()),e.css("left",n.offset().left);var o=i(n);o.top!==e.position().top?e.css("top",o.top):(e.find("li").removeClass("tg-filter-active"),n.find(".tg-filter-active").each((function(i){e.find("li").eq(t(this).index()).addClass("tg-filter-active")})))})))})),t.fn.TG_ToolTip=function(e){t(document).on("mouseenter",t(this).selector,(function(){var i=t(this);if(!i.data(e.data))return!1;if(i.data("tooltip-DOM"))return clearTimeout(i.data("tooltip-timer")),i.data("tooltip-DOM").addClass(e.hoverClass.split(".").join("")),!1;var n=t('<div class="'+e.appendClass.split(".").join("")+'"></div>').appendTo("body");i.data("tooltip-DOM",n);var o=i.data(e.data),r=i.offset(),a="relative"===t("body").css("position")?t(window).scrollTop()+t("body")[0].getBoundingClientRect().top:null,s=r.top-a,l=r.left,u=i.outerWidth(!0);n.html(o).css({position:"absolute","z-index":e.zindex,width:u,top:s+e.spacing-n.outerHeight(!0),left:l+u/2}).addClass(e.hoverClass.split(".").join(""))})).on("mouseleave",t(this).selector,(function(){var i=t(this);if(!i.data(e.data)||!i.data("tooltip-DOM"))return!1;var n=i.data("tooltip-DOM").removeClass(e.hoverClass.split(".").join("")),o=setTimeout((function(){n.remove(),n=null,i.data("tooltip-DOM",n)}),400);i.data("tooltip-timer",o)}))},t(document).ready((function(){t(".tg-filter-name").TG_ToolTip({data:"tooltip",zindex:99999,place:"top",appendClass:".tg-filter-tooltip",hoverClass:".tg-tooltip-hover",spacing:-2})}));var n=function(){var t=3,e=document.createElement("div"),i=e.getElementsByTagName("i");do{e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e"}while(i[0]);return t>4?t:document.documentMode}();n&&t("body").addClass("is-ie"),t.fn.TG_SoundCloud=function(){return this.each((function(){var e=t(this).closest(".tg-item"),i=t(this).attr("src");if(!e.hasClass("tg-media-init")&&"about:blank"!==i){var n=SC.Widget(t(this).attr("id"));n.bind(SC.Widget.Events.READY,(function(){(!n.getCurrentSound&&tg_is_mobile||!tg_is_mobile)&&n.play(),t.TG_Media_Ready(e,n,"STD"),n.bind(SC.Widget.Events.PAUSE,(function(){t.TG_Media_Pause(e)})),n.bind(SC.Widget.Events.FINISH,(function(){t.TG_Media_Pause(e)}))}))}}))};var o={};t.fn.TG_Youtube=function(){return this.each((function(){var e=t(this).closest(".tg-item"),i=t(this).attr("src");if(!e.hasClass("tg-media-init")&&"about:blank"!==i){var n=this.id;o[n]=new YT.Player(n,{events:{onReady:function(i){tg_is_mobile||i.target.playVideo(),t.TG_Media_Ready(e,i.target,"YT")},onStateChange:function(i){1===i.data&&t.TG_Media_Play(e),2!==i.data&&0!==i.data||t.TG_Media_Pause(e)}}})}}))},t.fn.TG_Vimeo=function(){return this.each((function(){var e=t(this).closest(".tg-item"),i=t(this).attr("src");if(n<=9&&(t(this).remove(),e.find(".tg-media-button").remove()),!e.hasClass("tg-media-init")&&"about:blank"!==i){t(this).attr("src",t(this).attr("src"));var o=$f(this);o.addEvent("ready",(function(){tg_is_mobile||o.api("play"),t.TG_Media_Ready(e,o,"VM"),o.addEvent("play",(function(){t.TG_Media_Play(e)})),o.addEvent("pause",(function(){t.TG_Media_Pause(e)})),o.addEvent("finish",(function(){t.TG_Media_Pause(e)}))}))}}))},t.fn.TG_Wistia=function(){return this.each((function(){var e=t(this).closest(".tg-item"),i=t(this).attr("src");e.hasClass("tg-media-init")||"about:blank"===i||t(this).load((function(){var i=t(this)[0].wistiaApi,n=!1,o=!1,r=!1;t.TG_Media_Ready(e,i,"STD"),i&&(i.play(),i.bind("seek",(function(){o=!0})),i.bind("heightchange",(function(){r=!0})),i.bind("play",(function(){!1===o&&!1===r&&n&&t.TG_Media_Play(e),o=r=!1})),i.bind("pause",(function(){!1===o&&!1===r&&t.TG_Media_Pause(e),r=n=!0})),i.bind("finish",(function(){t.TG_Media_Pause(e)})))}))}))},t.fn.TG_HTML_Player=function(){return this.each((function(){var e=t(this).closest(".tg-item");if(!e.hasClass("tg-media-init")){var i=t(this)[0];i.addEventListener&&(t.TG_Media_Ready(e,i,"STD"),i.addEventListener("play",(function(){t.TG_Media_Play(e)})),i.addEventListener("pause",(function(){t.TG_Media_Pause(e)})),i.addEventListener("ended",(function(){t.TG_Media_Pause(e)})))}}))},t.TG_Media_Ready=function(t,e,i){t.data("pause-method",i).data("media-player",e).addClass("tg-media-init")},t.TG_Media_Play=function(e){e.hasClass("tg-force-play")||t.TG_Pause_Players(),e.addClass("tg-is-playing"),t(".tg-item").removeClass("tg-force-play")},t.TG_Media_Pause=function(t){t.removeClass("tg-is-playing tg-force-play")},t(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange",(function(e){var i=t(e.target);t(".tg-item-media").removeClass("tg-item-media-fullscreen"),i&&i.hasClass("tg-item-media")&&i.addClass("tg-item-media-fullscreen")})),t(document).on("click",".tg-item:not(.tg-media-init) .tg-item-button-play",(function(e){e.preventDefault();var i=t(this).closest(".tg-item"),n=i.find("iframe");n.attr("src",n.data("src")),t.TG_Pause_Players(),t.TG_media_init(),i.addClass("tg-force-play")})),t(document).on("click",".tg-item.tg-media-init .tg-item-button-play",(function(e){e.preventDefault();var i=t(this).closest(".tg-item"),n=i.data("pause-method"),o=i.data("media-player");if(i.is(".tg-force-play, .tg-is-playing"))return t.TG_Pause_Players(),!1;if(o&&i.hasClass("tg-media-init"))switch(i.find(".tg-item-media").show(),t.TG_Pause_Players(),t(".tg-item").removeClass("tg-force-play tg-play-error"),i.addClass("tg-force-play"),n){case"STD":(!o.getCurrentSound&&tg_is_mobile||!tg_is_mobile)&&o.play();break;case"YT":o.playVideo();break;case"VM":o.api("play")}})),t.TG_Pause_Players=function(){t(".tg-item.tg-is-playing, .tg-item.tg-force-play").each((function(){var e=t(this),i=e.data("pause-method"),n=e.data("media-player");if(n&&e.hasClass("tg-media-init")){switch(i){case"STD":n.pause();break;case"YT":n.pauseVideo();break;case"VM":n.api("pause")}e.closest(".tg-item").removeClass("tg-is-playing tg-force-play")}}))},t.TG_media_init=function(){var e,i,n,o,r=[{ID:"youtube",url:"//www.youtube.com/iframe_api"},{ID:"vimeo",url:"//f.vimeocdn.com/js/froogaloop2.min.js"},{ID:"soundcloud",url:"//w.soundcloud.com/player/api.js"},{ID:"wistia",url:"//fast.wistia.com/assets/external/E-v1.js"}];if(t(".g-ytsubscribe").length&&((e=document.createElement("script")).src="https://apis.google.com/js/platform.js",e.id="tg-youtube-subscribe-api",(o=document.getElementsByTagName("script")[0]).parentNode.insertBefore(e,o)),0===t(".tg-item-media").length)return!1;i={youtube:function(){"undefined"==typeof YT||0===YT.loaded?window.onYouTubeIframeAPIReady=function(){t('[data-api="1"].tg-item-youtube').TG_Youtube()}:t('[data-api="1"].tg-item-youtube').TG_Youtube()},vimeo:function(){t('[data-api="1"].tg-item-vimeo').TG_Vimeo()},soundcloud:function(){t('[data-api="1"].tg-item-soundcloud').TG_SoundCloud()},wistia:function(){t('[data-api="1"].tg-item-wistia').TG_Wistia()}};for(var a=0;a<r.length;a++)n=r[a].ID,t('[data-api="1"].tg-item-'+n).length>0&&(r[a].url,0===t("#tg-"+n+"-api").length?((e=document.createElement("script")).src=r[a].url,e.id="tg-"+n+"-api",(o=document.getElementsByTagName("script")[0]).parentNode.insertBefore(e,o),function(t,e){t.onload=function(){i[e]()}}(e,n)):i[n]());t(document).ready((function(){t(".tg-item .tg-item-audio-player").attr("width","100%"),t(".tg-item-video-player,.tg-item-audio-player").TG_HTML_Player(),tg_global_var.mediaelement&&(t(".tg-item-video-player:not(.tg-mediaelement-init), .tg-item-audio-player:not(.tg-mediaelement-init)").mediaelementplayer({audioVolume:"vertical",videoVolume:"vertical",features:["playpause","current","progress","duration","volume","fullscreen"],startVolume:.8}),t(".tg-item-video-player, .tg-item-audio-player").addClass("tg-mediaelement-init"))}))},t.TG_media_destroy=function(e){(e||t(".tg-item")).find(".tg-item-vimeo").each((function(){var e=t(this),i=e.closest(".tg-item").data("media-player");i&&(i.api("pause"),e.attr("src","about:blank"))})),(e=e?e.find(".tg-item video, .tg-item audio"):t(".tg-item video, .tg-item audio")).each((function(){var e=t(this),i=e.data("mediaelementplayer");e.closest(".tg-item").removeClass("tg-force-play tg-is-playing"),e.length&&(i?((i=e.data("mediaelementplayer")).pause(),i.setSrc("about:blank"),e.children("source").prop("src",""),i.remove()):(e[0].pause(),e[0].src="about:blank",e.children("source").prop("src",""),e.remove().length=0))})),tg_global_var.mediaelement&&(mejs.players=[])},t.TO_Lightbox=function(){function e(){var e=t(T).filter(":visible");for(w=e.length,i=0;i<w;i++){var n=e.eq(i);b[i]={},b[i].type=n.data("tolb-type"),b[i].src=n.data("tolb-src"),b[i].alt=n.data("tolb-alt"),b[i].poster=n.data("tolb-poster"),n.data(P,i)}w>1?t(S+","+G).show():t(S+","+G).hide()}function n(e){switch(t(x).addClass(j+" "+M),p=e.data(P),v=b[p].type,m=b[p].src,g=b[p].alt,t(G).data(P,d(p-1)),t(S).data(P,d(p+1)),v){case"image":y=t('<img class="tolb-img" src="'+m+'" alt="'+g+'"></img>'),(f=new Image).onload=a,f.onerror=a,f.src=m;break;case"youtube":y=t('<iframe class="tolb-video" src="'+(m="//www.youtube.com/embed/"+m+"?html5=1&controls=1&autohide=1&rel=0&showinfo=0&autoplay="+D)+'" allowfullscreen></iframe>'),s();break;case"vimeo":y=t('<iframe class="tolb-video" src="'+(m="//player.vimeo.com/video/"+m+"?title=0&amp;byline=0&amp;portrait=0&amp;autoplay="+D)+'" allowfullscreen></iframe>'),s();break;case"wistia":y=t('<iframe class="tolb-video" src="'+(m="//fast.wistia.net/embed/iframe/"+m+"?title=0&amp;byline=0&amp;portrait=0&amp;autoPlay="+D)+'" allowfullscreen></iframe>'),s();break;case"video":for(var i="",n=0;n<m.length;n++)i+='<source src="'+m[n][0].source+'" type="video/'+m[n][0].type+'" width="100%" height="100%"></source>';_=b[p].poster,y=t('<video class="tolb-video" controls'+(_=_?' poster="'+_+'"':"")+(D?" autoplay":"")+' width="100%">'+i+"</video>"),tg_is_mobile?(h&&h.setSrc("about:blank"),o()):(y.one("loadeddata",(function(){h&&h.setSrc("about:blank"),tg_global_var.mediaelement?y.mediaelementplayer({features:["playpause","stop","loop","current","progress","duration","volume","fullscreen"],videoVolume:"horizontal",startVolume:.8,success:function(e,i){h=e,y=t(i).closest(".mejs-container"),o(),h.addEventListener("ended",(function(){y.find(".mejs-poster").show()}))}}):o()})),y[0].addEventListener("error",(function(){u(),t(x).removeClass(M)})))}}function o(){var e=t(x).find("iframe").not(y);e.length>0?e.attr("src","about:blank").one("load",(function(){r()})):r()}function r(){t(x).addClass(E),"iframe"!==v?t(z).html(""):t(z).find("*").not(y).remove(),"image"!==v?t(x).addClass(k):t(x).removeClass(k),"iframe"!==v&&t(z).append(y),l(),u(),y.show(),t(x).removeClass(M)}function a(){o()}function s(){v="iframe",t(z).append(y.hide()),y.one("load",(function(){o()}))}function l(){t(L).css("max-height",t(window).height()-80-t("#wpadminbar").height())}function u(){t(C).text(g),t(I).text(p+1+"/"+w)}function d(t){return(w+t%w)%w}function c(){t(x).removeClass(j+" "+M+" "+E),setTimeout((function(){t(x).find("iframe").length>0?t(x).find("iframe").attr("src","about:blank").one("load",(function(){t(z).html("")})):t(z).html("")}),300)}var h,p,f,m,g,y,v,_,w,b=[],T="[data-tolb-src]:not(.tolb-disabled)",x=".tolb-holder",z=".tolb-content",L=".tolb-img",C=".tolb-title",I=".tolb-counter",S=".tolb-next",G=".tolb-prev",P="tolb-index",j="tolb-open",E="tolb-ready",M="tolb-loading",k="tolb-iframe",D=tg_global_var.lightbox_autoplay;t(window).on("resize",(function(){l()})),t(document).on("click",T,(function(i){return i.preventDefault(),t.TG_Pause_Players(),t(".tolb-video,"+L).remove(),e(),n(t(this)),!1})),t(document).on("click touchend",S+","+G,(function(){return n(t(this)),!1})),t(document).on("keydown",throttle((function(e){t(x).hasClass(j)&&(37==e.keyCode?t(G).trigger("click"):39==e.keyCode?t(S).trigger("click"):27==e.keyCode&&c())}),300)),t(document).on("click touchend",".tolb-inner,.tolb-close",(function(e){return e.stopPropagation(),(t(e.target).is(".tolb-inner")||t(e.target).is(".tolb-close"))&&c(),!1})),t("body").append(t('<div class="tolb-holder"><div class="tolb-loader"></div><div class="tolb-inner"><figure><div class="tolb-close tg-icon-close"></div><div class="tolb-content"></div><figcaption><div class="tolb-title"></div><div class="tolb-counter"></div></figcaption></figure></div><div class="tolb-prev"><i class="tg-icon-arrow-prev-thin"></i></div><div class="tolb-next"><i class="tg-icon-arrow-next-thin"></i></div></div>'))},t(document).on("click","[data-tolb-id]",(function(e){e.preventDefault();var i=t(this).data("tolb-id");i&&t("#"+i)[0].click()})),function(){var e,i,n,o,r,a,s=window.navigator.userAgent.indexOf("Edge/"),l="div:not(.tg-item-gallery-holder) > .tg-item-image, .tg-item-media-poster, .tg-item-audio-poster, .tg-item-gallery-holder",u=0;!("ontouchstart"in window)&&!navigator.msMaxTouchPoints&&!t("body").hasClass("is-ie")&&s<0&&t(document).on("mousemove",".tg-panZ",(function(s){e=t(this),o=e.width(),n=e.height(),i=e.closest(".tg-item").offset();var d=Date.now();d>u+80&&(u=d,window.requestAnimationFrame((function(){r=.08*-(s.pageX-i.left-o/2)*.4,a=.08*-(s.pageY-i.top-n/2)*.4,t(s.target).closest(".tg-item").find(l).css({"-webkit-transform":"matrix(1.08, 0, 0, 1.08,"+r+","+a+")","-moz-transform":"matrix(1.08, 0, 0, 1.08,"+r+","+a+")"})})))})).on("mouseleave",".tg-panZ",(function(e){setTimeout((function(){t(e.target).closest(".tg-item").find(l).css({"-webkit-transform":"","-moz-transform":""})}),80)}))}(),function(){var e=document,i=0,n=e.getElementsByTagName("html")[0],o=e.getElementsByTagName("body")[0],r="ontouchstart"in window||navigator.msMaxTouchPoints,a=t("body").hasClass("is-ie")?1:80;r||t(document).on("mousemove",".tg-atv-anim",(function(e){var r=t(this),s=Date.now();s>i+a&&(i=s,window.requestAnimationFrame((function(){!function(t,e){var i=o.scrollTop||n.scrollTop,r=o.scrollLeft,a=t.pageX,s=t.pageY,l=e[0].getBoundingClientRect(),u=e[0].clientWidth||e[0].offsetWidth||e[0].scrollWidth,d=e[0].clientHeight||e[0].offsetHeight||e[0].scrollHeight,c=320/u,h=.52-(a-l.left-r)/u,p=.52-(s-l.top-i)/d,f="perspective("+3*u*(d>u?d/u*2:1)+"px) rotateX("+.1*c*(s-l.top-i-d/2-p)+"deg) rotateY("+.07*c*(h-(a-l.left-r-u/2))+"deg) scale3d(1.03,1.03,1.03)";e.css("transform",f+" translateX("+2*h*(2.5/c)+"px) translateY("+1*p*(2.5/c)+"px)")}(e,r)})))})).on("mouseenter",".tg-atv-anim",(function(e){!function(t){t.addClass("over")}(t(this))})).on("mouseleave",".tg-atv-anim",(function(e){!function(t){t.removeClass("over"),setTimeout((function(){var e=t[0].clientWidth||t[0].offsetWidth||t[0].scrollWidth;t.css("transform","perspective("+3*e+"px) rotateX(0deg) rotateY(0deg) translateZ(0)")}),80)}(t(this))}))}(),t(document).on("click",".tg-social-share:not(.tg-social-disabled)",(function(e){e.preventDefault();var i=t(this)[0].href,n=Math.round(window.screenX+(window.outerWidth-626)/2),o=Math.round(window.screenY+(window.outerHeight-436)/2);return i&&window.open(i,"tg_share","status=0,resizable=1,location=1,toolbar=0,width=626,height=436,top="+o+",left="+n),!1})),t.TG_media_init(),t(document).ready((function(){t(".tg-grid-preloader-styles, .tg-grid-styles").removeAttr("scoped"),t(".tg-grid-holder").The_Grid(),t.TO_Lightbox()}));var r,a,s=t.event;r=s.special.debouncedresize={setup:function(){t(this).on("resize",r.handler)},teardown:function(){t(this).off("resize",r.handler)},handler:function(t,e){var i=this,n=arguments,o=function(){t.type="debouncedresize",s.dispatch.apply(i,n)};a&&clearTimeout(a),e?o():a=setTimeout(o,r.threshold)},threshold:100}}(jQuery),function(){for(var t=0,e=["webkit","moz"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,i){var n=(new Date).getTime(),o=Math.max(0,16-(n-t)),r=window.setTimeout((function(){e(n+o)}),o);return t=n+o,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),window.tgInterval=function(t,e){var i,n=Date.now,o=window.requestAnimationFrame,r=n(),a=function(){n()-r<e||(r+=e,t()),i||o(a)};return o(a),{clear:function(){i=1}}};